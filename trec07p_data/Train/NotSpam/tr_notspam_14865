From samba-cvs-bounces+ktwarwic=speedy.uwaterloo.ca@lists.samba.org  Thu May 31 08:47:36 2007
Return-Path: <samba-cvs-bounces+ktwarwic=speedy.uwaterloo.ca@lists.samba.org>
Received: from lists.samba.org (mail.samba.org [66.70.73.150])
	by flax9.uwaterloo.ca (8.12.8/8.12.5) with ESMTP id l4VClYhB027854
	for <ktwarwic@speedy.uwaterloo.ca>; Thu, 31 May 2007 08:47:34 -0400
Received: from dp.samba.org (localhost [127.0.0.1])
	by lists.samba.org (Postfix) with ESMTP id 6A1C0162AE7
	for <ktwarwic@speedy.uwaterloo.ca>; Thu, 31 May 2007 12:47:29 +0000 (GMT)
X-Spam-Checker-Version: SpamAssassin 3.1.7 (2006-10-05) on dp.samba.org
X-Spam-Level: 
X-Spam-Status: No, score=-0.5 required=3.8 tests=AWL,BAYES_05,
	UNPARSEABLE_RELAY autolearn=ham version=3.1.7
X-Original-To: samba-cvs@samba.org
Delivered-To: samba-cvs@samba.org
Received: from mail.SerNet.de (mail1.SerNet.DE [193.175.80.2])
	by lists.samba.org (Postfix) with ESMTP id 7E17A162AE7
	for <samba-cvs@samba.org>; Thu, 31 May 2007 12:46:38 +0000 (GMT)
Received: from intern.SerNet.DE by mail.SerNet.DE with esmtp (Exim 4.51 #1)
	for samba-cvs@samba.org
	id 1Htk33-0004KJ-LK; Thu, 31 May 2007 14:46:37 +0200
Received: by intern.SerNet.DE
	id 1Htk33-0005WA-BW; Thu, 31 May 2007 14:46:37 +0200
Received: by intern.SerNet.DE
	id 1Htk33-0005W4-3M; Thu, 31 May 2007 14:46:37 +0200
Received: from mad by nirvana.sernet.private with local (Exim 4.63)
	(envelope-from <ma@sernet.de>)
	id 1Htk33-0003bL-0N; Thu, 31 May 2007 14:46:37 +0200
To: samba-cvs@samba.org
From: Michael Adam <ma@sernet.de>
Date: Thu, 31 May 2007 14:46:37 +0200
Message-Id: <E1Htk33-0005WA-BW@intern.SerNet.DE>
Organization: SerNet GmbH, Goettingen, Germany
Subject: Rev 5377: merge from upstream in
	http://samba.sernet.de/ma/bzr/SAMBA_3_0-registry.bzr/
X-BeenThere: samba-cvs@lists.samba.org
X-Mailman-Version: 2.1.5
Precedence: list
Reply-To: samba-technical@lists.samba.org
List-Id: Samba CVS and subversion commit messages <samba-cvs.lists.samba.org>
List-Unsubscribe: <https://lists.samba.org/mailman/listinfo/samba-cvs>,
	<mailto:samba-cvs-request@lists.samba.org?subject=unsubscribe>
List-Archive: <http://lists.samba.org/archive/samba-cvs>
List-Post: <mailto:samba-cvs@lists.samba.org>
List-Help: <mailto:samba-cvs-request@lists.samba.org?subject=help>
List-Subscribe: <https://lists.samba.org/mailman/listinfo/samba-cvs>,
	<mailto:samba-cvs-request@lists.samba.org?subject=subscribe>
Sender: samba-cvs-bounces+ktwarwic=speedy.uwaterloo.ca@lists.samba.org
Errors-To: samba-cvs-bounces+ktwarwic=speedy.uwaterloo.ca@lists.samba.org

At http://samba.sernet.de/ma/bzr/SAMBA_3_0-registry.bzr/

------------------------------------------------------------
revno: 5377
revision-id: ma@sernet.de-20070531124612-vhxd3m9v060b6bj7
parent: ma@sernet.de-20070514131444-wd2dk6q4aiihrive
parent: vlendec@samba.org-20070531093055-7noao632793n3yf8
committer: Michael Adam <ma@sernet.de>
branch nick: SAMBA_3_0-registry.bzr
timestamp: Thu 2007-05-31 14:46:12 +0200
message:
  merge from upstream
removed:
  source/iniparser/html/dir_000000.html dir_000000.html-20060530101930-a2984c1b780612fe
  source/iniparser/html/dirs.html dirs.html-20060530101930-63fc2fe1f27c0448
added:
  examples/libsmbclient/testacl2.c testacl2.c-20070515193100-lx2nystklre1h5z8-1
  source/iniparser/html/tabs.css tabs.css-20070527160216-hog3nxs83d0hp00b-1
  source/lib/errmap_unix.c       errmap_unix.c-20070529202201-h7olgulww7h3tzz1-1
  source/lib/file_id.c           file_id.c-20070529093107-sat23y0ryx5evvhi-1
  source/lib/messages_local.c    messages_local.c-20070524144545-aigf1y9m5m0hq6zc-1
  source/librpc/gen_ndr/messaging.h messaging.h-20070521223039-ubgz63h0rz5bzhl0-1
  source/librpc/gen_ndr/ndr_messaging.c ndr_messaging.c-20070521223040-d1k5pdz6a81wt0on-1
  source/librpc/gen_ndr/ndr_messaging.h ndr_messaging.h-20070521223040-n59gxs7uc9b62im0-1
  source/librpc/idl/messaging.idl messaging.idl-20070521223041-8nki7l30a3h8gtlv-1
  source/modules/vfs_zfsacl.c    vfs_zfsacl.c-20070515000032-6u07g1yie5uaylw4-1
modified:
  REVISION                       REVISION-20060530022625-68239662668b41c3
  examples/VFS/skel_opaque.c     skel_opaque.c-20060530022627-06a225b952a78501
  examples/VFS/skel_transparent.c skel_transparent.c-20060530022627-3ad9138da4f22dbe
  examples/libsmbclient/Makefile Makefile-20060530022627-a84d9f91545769c3
  source/Makefile.in             Makefile.in-20060530022626-b16dac2328ebe703
  source/auth/auth_server.c      auth_server.c-20060530022627-5d30fd4f1d21fdc2
  source/auth/pampass.c          pampass.c-20060530022627-8b5face486bbebb2
  source/client/mount.cifs.c     mount.cifs.c-20060530022627-eacab1c36c071af7
  source/configure.in            configure.in-20060530022626-07e74bc1e326c82d
  source/include/ads.h           ads.h-20060530022627-0ad4ab3813eafc20
  source/include/client.h        client.h-20060530022627-f51e99ba840436e5
  source/include/dbwrap.h        dbwrap.h-20070510110202-1d7dmmkxqskzz6n6-1
  source/include/doserr.h        doserr.h-20060530022627-41e42763dc6cc0b8
  source/include/includes.h      includes.h-20060530022627-d1a059a99c05e8be
  source/include/locking.h       locking.h-20060711181329-97d0a8ff81188d91
  source/include/messages.h      messages.h-20060530022627-1e4e137420885476
  source/include/rpc_netlogon.h  rpc_netlogon.h-20060530022627-1cf660feb1f9de09
  source/include/smb.h           smb.h-20060530022627-6c2e6fe4eb631e83
  source/include/smb_macros.h    smb_macros.h-20060530022627-412e2056512de943
  source/include/smbprofile.h    smbprofile.h-20060530022627-68db3755c2c15bfa
  source/include/trans2.h        trans2.h-20060530022627-ff896a707ae81fc0
  source/include/vfs.h           vfs.h-20060530022627-ae5df00bad868c36
  source/include/vfs_macros.h    vfs_macros.h-20060530022627-1797fe0ae45493ce
  source/iniparser/AUTHORS       AUTHORS-20060530101930-5ec346ebcf2c586b
  source/iniparser/Makefile      Makefile-20060530101930-2b0b65453e90fc46
  source/iniparser/html/doxygen.css doxygen.css-20060530101930-5f0a02ad2fdcdad5
  source/iniparser/html/globals_func.html globals_func.html-20060530101930-02ac2d2bcdc3343d
  source/iniparser/html/index.html index.html-20060530101930-8b51530f20015834
  source/iniparser/html/iniparser_8h.html iniparser_8h.html-20060530101930-455abe9fab5b020f
  source/iniparser/html/iniparser_8main.html iniparser_8main.html-20060530101930-346912b76413e115
  source/iniparser/src/dictionary.c dictionary.c-20060530101930-5984b5bf01d44c31
  source/iniparser/src/dictionary.h dictionary.h-20060530101930-db6fa713c315c573
  source/iniparser/src/iniparser.c iniparser.c-20060530101930-8d3e0424aef7fe98
  source/iniparser/src/iniparser.h iniparser.h-20060530101930-e2bf2f5fa22ff2fb
  source/iniparser/src/strlib.c  strlib.c-20060530101930-fecca6eea08c62b6
  source/iniparser/src/strlib.h  strlib.h-20060530101930-6a16eecd3e087c08
  source/lib/conn_tdb.c          conn_tdb.c-20070508170033-ob03az54rz05f6gl-1
  source/lib/dbwrap_file.c       dbwrap_file.c-20070510110203-8i3thcoepwsurom5-1
  source/lib/dbwrap_tdb.c        dbwrap_tdb.c-20070510110204-r3qybke0030vfwde-1
  source/lib/debug.c             debug.c-20060530022627-f23cb2ef8f91a8a6
  source/lib/dmallocmsg.c        dmallocmsg.c-20060530022627-c3df59d34ddcfbc8
  source/lib/events.c            events.c-20060530090212-e5ccb06aab197cbd
  source/lib/messages.c          messages.c-20060530022627-fcc341b253a85c20
  source/lib/pam_errors.c        pam_errors.c-20060530022627-af07b8468ccd28b9
  source/lib/replace/dlfcn.m4    dlfcn.m4-20060919015053-50coyc2ouwpsm77j-26
  source/lib/replace/replace.h   replace.h-20060919015053-50coyc2ouwpsm77j-19
  source/lib/smbrun.c            smbrun.c-20060530022627-43450efcfd3d38a6
  source/lib/system.c            system.c-20060530022627-3f01435a4e07a714
  source/lib/tallocmsg.c         tallocmsg.c-20060530022627-ac45ff77691b4014
  source/lib/tdb/common/open.c   open.c-20070416111147-cebijg5x16vcb45j-20
  source/lib/tdb/include/tdb.h   tdb.h-20070416111147-cebijg5x16vcb45j-28
  source/lib/tdb/tools/tdbtool.c tdbtool.c-20070416111147-cebijg5x16vcb45j-36
  source/lib/time.c              time.c-20060530022627-d22d1437379fb153
  source/lib/util.c              util.c-20060530022627-d569af0e687a4dd3
  source/lib/util_sock.c         util_sock.c-20060530022627-30f22f2d8b038b4b
  source/lib/util_str.c          util_str.c-20060530022627-0ba87cda5eaacc2e
  source/lib/util_tdb.c          util_tdb.c-20061021025435-o3vr4t381qf9lv7e-1
  source/libads/authdata.c       authdata.c-20060530022627-c9ad4a5551e90565
  source/libads/kerberos.c       kerberos.c-20060530022627-8e844eb5a48bb463
  source/libads/ldap.c           ldap.c-20060530022627-07f10a20cc50f671
  source/libgpo/gpo_util.c       gpo_util.c-20060929015739-6lt2qkjjx4ofwolg-3
  source/libsmb/clidgram.c       clidgram.c-20060530022627-0d16d2ca1044bd3f
  source/libsmb/clientgen.c      clientgen.c-20060530022627-3aad65ce54001b6b
  source/libsmb/clifsinfo.c      clifsinfo.c-20060530022627-9360212d14f20006
  source/libsmb/clireadwrite.c   clireadwrite.c-20060530022627-a8f455ef06f01919
  source/libsmb/doserr.c         doserr.c-20060530022627-270bcc897475e1c2
  source/libsmb/errormap.c       errormap.c-20060530022627-f469e8a07ae28ddc
  source/libsmb/libsmbclient.c   libsmbclient.c-20060530022627-e1c98e7d8c6048ca
  source/libsmb/smb_share_modes.c smb_share_modes.c-20060530073738-d37c371a41d3c54a
  source/libsmb/smb_signing.c    smb_signing.c-20060530022627-1e3c4643957ae652
  source/locking/brlock.c        brlock.c-20060530022627-3b8aec140997e136
  source/locking/locking.c       locking.c-20060530022627-4f229d47402340bb
  source/locking/posix.c         posix.c-20060530022627-997d33ad43f0bd3e
  source/m4/aclocal.m4           aclocal.m4-20070422050141-j0bc2j39llstz3uq-2
  source/modules/charset_macosxfs.c charset_macosxfs.c-20060530022627-5b87b2b8f271763e
  source/modules/gpfs.c          gpfs.c-20061109202947-p7dnoyk9rqoo2tkl-1
  source/modules/vfs_cap.c       vfs_cap.c-20060530022627-53d1dba26ccb505f
  source/modules/vfs_catia.c     vfs_catia.c-20060530054515-f9850d7e210c7191
  source/modules/vfs_default.c   vfs_default.c-20060711181345-e2d073492cc4cc5d
  source/modules/vfs_full_audit.c vfs_full_audit.c-20060530024110-460abfb36ee47358
  source/modules/vfs_netatalk.c  vfs_netatalk.c-20060530022627-4203fe3744c2308b
  source/modules/vfs_solarisacl.c vfs_solarisacl.c-20060721164828-6c588bafc32df526
  source/modules/vfs_tru64acl.c  vfs_tru64acl.c-20060721164829-674e1070b8f0978b
  source/nmbd/nmbd.c             nmbd.c-20060530022627-f3b08abf8f3e3c36
  source/nmbd/nmbd_elections.c   nmbd_elections.c-20060530022627-12c160e0fac7246c
  source/nmbd/nmbd_packets.c     nmbd_packets.c-20060530022627-5b449aed1c5a87bf
  source/nmbd/nmbd_processlogon.c nmbd_processlogon.c-20060530022627-ba032f504f8ff80c
  source/nmbd/nmbd_winsserver.c  nmbd_winsserver.c-20060530022627-e309a34b4ec33413
  source/nsswitch/idmap.c        idmap.c-20061212152801-ke1ub3n5v1jjf8gy-1
  source/nsswitch/idmap_util.c   idmap_util.c-20061212152808-3ob6qkx6llnz2sm0-1
  source/nsswitch/pam_winbind.h  pam_winbind.h-20060530022627-4c4fe143b3b9fecf
  source/nsswitch/winbindd.c     winbindd.c-20060530022627-8bb76c46bd1253ec
  source/nsswitch/winbindd.h     winbindd.h-20060530022627-003a0030248d7f64
  source/nsswitch/winbindd_ads.c winbindd_ads.c-20060530022627-7c5e13eefe48f902
  source/nsswitch/winbindd_async.c winbindd_async.c-20060530063806-18e4387b7dbded2f
  source/nsswitch/winbindd_cache.c winbindd_cache.c-20060530022627-45b83e217d38566d
  source/nsswitch/winbindd_cm.c  winbindd_cm.c-20060530022627-54b91b1c8940d29e
  source/nsswitch/winbindd_dual.c winbindd_dual.c-20060530022627-d241a3ae20234631
  source/nsswitch/winbindd_group.c winbindd_group.c-20060530022627-9288f9a998ed2fbe
  source/nsswitch/winbindd_misc.c winbindd_misc.c-20060530022627-23bbfb77e6fd4a87
  source/nsswitch/winbindd_nss.h winbindd_nss.h-20060530022627-7c181dc4ce97364d
  source/nsswitch/winbindd_pam.c winbindd_pam.c-20060530022627-6b827f2f7ba30f85
  source/nsswitch/winbindd_passdb.c winbindd_passdb.c-20060530023249-bcfa0f3047ac9287
  source/nsswitch/winbindd_reconnect.c winbindd_reconnect.c-20060530063809-16ace4647277930e
  source/nsswitch/winbindd_rpc.c winbindd_rpc.c-20060530022627-7b63b2639ff48069
  source/nsswitch/winbindd_sid.c winbindd_sid.c-20060530022627-88ad7ed4dbf383c7
  source/nsswitch/winbindd_user.c winbindd_user.c-20060530022627-bd9d3764eb8e1fd7
  source/nsswitch/winbindd_util.c winbindd_util.c-20060530022627-e014c9e53147dffe
  source/pam_smbpass/general.h   general.h-20060530022627-1719c7f62930a13d
  source/pam_smbpass/pam_smb_acct.c pam_smb_acct.c-20060530022627-6a2ba5931e28aec4
  source/pam_smbpass/pam_smb_auth.c pam_smb_auth.c-20060530022627-0440148781d470cc
  source/pam_smbpass/pam_smb_passwd.c pam_smb_passwd.c-20060530022627-9c1dc91d937a2ae4
  source/passdb/lookup_sid.c     lookup_sid.c-20060530022627-e709356ee81bdcb1
  source/passdb/passdb.c         passdb.c-20060530022627-6eeb9667474b279d
  source/passdb/pdb_interface.c  pdb_interface.c-20060530022627-3c8946ee9faabfaa
  source/passdb/pdb_ldap.c       pdb_ldap.c-20060530022627-2f07cf74afbbdcfd
  source/printing/notify.c       notify.c-20060530022627-261dbd9f8eaf7cbe
  source/printing/nt_printing.c  nt_printing.c-20060530022627-6f18c47e6548d98a
  source/printing/print_generic.c print_generic.c-20060530022627-97369f50a9b9ab54
  source/printing/printfsp.c     printfsp.c-20060530022627-0ba6bef6de2001f3
  source/printing/printing.c     printing.c-20060530022627-9c11c090f2b843d1
  source/profile/profile.c       profile.c-20060530022627-ce0e772919212dfb
  source/registry/regfio.c       regfio.c-20060530062858-30d047337f913fd9
  source/rpc_client/cli_lsarpc.c cli_lsarpc.c-20060530022627-b35bc2e64a6c3fbb
  source/rpc_client/cli_netlogon.c cli_netlogon.c-20060530022627-8932479dada9a685
  source/rpc_parse/parse_lsa.c   parse_lsa.c-20060530022627-ece9387bdd8d6756
  source/rpc_parse/parse_misc.c  parse_misc.c-20060530022627-2f2bf5c0060cbd6c
  source/rpc_parse/parse_net.c   parse_net.c-20060530022627-2f7b0a5a38d46d3f
  source/rpc_parse/parse_prs.c   parse_prs.c-20060530022627-0ebae6d950fb538d
  source/rpc_parse/parse_samr.c  parse_samr.c-20060530022627-884a0f984d4cf320
  source/rpc_parse/parse_sec.c   parse_sec.c-20060530022627-84c797c024a33b13
  source/rpc_parse/parse_spoolss.c parse_spoolss.c-20060530022627-fa1aa2a302bed8cf
  source/rpc_server/srv_echo_nt.c srv_echo_nt.c-20060530022627-74016cf4c21ae5d9
  source/rpc_server/srv_lsa_ds_nt.c srv_lsa_ds_nt.c-20060530022627-3c78091d53c3d4f2
  source/rpc_server/srv_netlog_nt.c srv_netlog_nt.c-20060530022627-c8b504672a94e5e8
  source/rpc_server/srv_spoolss_nt.c srv_spoolss_nt.c-20060530022627-659fb3668dc35c9b
  source/rpc_server/srv_srvsvc_nt.c srv_srvsvc_nt.c-20060530022627-c197e59c5963870c
  source/rpcclient/cmd_echo.c    cmd_echo.c-20060530022627-07557b85d6439ad0
  source/rpcclient/cmd_netlogon.c cmd_netlogon.c-20060530022627-473c09638f48d7ff
  source/script/installmodules.sh installmodules.sh-20060530022627-3a6c0bdb06b4164b
  source/script/tests/gdb_backtrace gdb_backtrace-20060530071804-d0eb832bb10d0f01
  source/smbd/blocking.c         blocking.c-20060530022627-b43dcc35e2ddb440
  source/smbd/close.c            close.c-20060530022627-e69d9b921ab9e9f1
  source/smbd/conn.c             conn.c-20060530022627-b48d038fbdb7ac1a
  source/smbd/connection.c       connection.c-20060530022627-15ebf52f0bf0bc43
  source/smbd/filename.c         filename.c-20060530022627-70117a6f179db3e8
  source/smbd/files.c            files.c-20060530022627-8e2ca5e2d798cd9b
  source/smbd/lanman.c           lanman.c-20060530022627-4d3ad959fbca66cf
  source/smbd/negprot.c          negprot.c-20060530022627-a352553cf95f9931
  source/smbd/notify_internal.c  notify_internal.c-20070131161711-919d9g5d1o0gwgmg-1
  source/smbd/nttrans.c          nttrans.c-20060530022627-b483806ef6e0e97d
  source/smbd/open.c             open.c-20060530022627-9fd4db17a805af1f
  source/smbd/oplock.c           oplock.c-20060530022627-438ce54295ab823f
  source/smbd/oplock_irix.c      oplock_irix.c-20060530022627-8630c49d7cf48d22
  source/smbd/oplock_linux.c     oplock_linux.c-20060530022627-ad627e40297a3e18
  source/smbd/process.c          process.c-20060530022627-8fe40017fe0e41ff
  source/smbd/reply.c            reply.c-20060530022627-92de20342694c043
  source/smbd/server.c           server.c-20060530022627-212a418ec1144979
  source/smbd/service.c          service.c-20060530022627-26610b9bfde9af5a
  source/smbd/session.c          session.c-20060530022627-ee3a7ddb747b92df
  source/smbd/sesssetup.c        sesssetup.c-20060530022627-0a6efae905e1529e
  source/smbd/statcache.c        statcache.c-20060530022627-cc5718b078f87c23
  source/smbd/trans2.c           trans2.c-20060530022627-7ce34cd85c3f02f5
  source/smbd/uid.c              uid.c-20060530022627-d238b70dfabb24d9
  source/torture/locktest.c      locktest.c-20060530022627-6decb074269e5364
  source/torture/locktest2.c     locktest2.c-20060530022627-7a17e771d09e0fea
  source/torture/msgtest.c       msgtest.c-20060530022627-9cf20ccf7634c234
  source/utils/net_ads.c         net_ads.c-20060530022628-b5190e5bbd174714
  source/utils/net_help.c        net_help.c-20060530022628-61c58b2950a05222
  source/utils/net_rap.c         net_rap.c-20060530022628-d8fd4b014cc5231b
  source/utils/net_rpc.c         net_rpc.c-20060530022628-621a11e4e04cf3b9
  source/utils/net_rpc_printer.c net_rpc_printer.c-20060530033151-cdd90399181ee53a
  source/utils/net_status.c      net_status.c-20060530022628-da2712a920e5a3aa
  source/utils/pdbedit.c         pdbedit.c-20060530022628-2e85850b4961b3c7
  source/utils/smbcacls.c        smbcacls.c-20060530022628-d9327f629252e4d4
  source/utils/smbcontrol.c      smbcontrol.c-20060530022628-8c123e65b429fb23
  source/utils/smbcquotas.c      smbcquotas.c-20060530022628-a2b3fe534ffc7254
  source/utils/status.c          status.c-20060530022628-a33523ea13048a7e
  source/utils/status_profile.c  status_profile.c-20060711181413-a6375fd0590f20f0
  source/web/statuspage.c        statuspage.c-20060530022628-025a29e25b6e33c7
    ------------------------------------------------------------
    revno: 5275.1.751
    merged: vlendec@samba.org-20070531093055-7noao632793n3yf8
    parent: obnox@samba.org-20070530224553-fja0uz5oszkfel0w
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-31 04:30:55 -0500
    message:
      vlendec@samba.org (r23263)  2007-05-31 04:23:51 -0500 (Thu, 31 May 2007)
          
          Remove an unused variable -- Fix Coverity ID 358
          
    ------------------------------------------------------------
    revno: 5275.1.750
    merged: obnox@samba.org-20070530224553-fja0uz5oszkfel0w
    parent: obnox@samba.org-20070530221550-wbyw10fsg8wzdieq
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-30 17:45:53 -0500
    message:
      obnox@samba.org (r23253)  2007-05-30 17:40:26 -0500 (Wed, 30 May 2007)
          
          Add some debugging output.
          
          
    ------------------------------------------------------------
    revno: 5275.1.749
    merged: obnox@samba.org-20070530221550-wbyw10fsg8wzdieq
    parent: jerry@samba.org-20070530220227-8gyagw0rhg44brp1
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-30 17:15:50 -0500
    message:
      obnox@samba.org (r23252)  2007-05-30 17:04:42 -0500 (Wed, 30 May 2007)
          
          Complete the reworking of the ads lookup_groupmem function 
          started in r23070, r23072, r23073, r23078, r23081 and r23082:
          
          After retrieving the list of sids with the extended dn
          ldap query, instead of passing all sids to the lsa_lookup_sids
          call, now while extracting the sids from the extended dn member 
          entries, we first try to lookup the sid from cache and only pass 
          the sids that were not in cache to the lsa_lookup_sids call.
          
          Michael
          
          
    ------------------------------------------------------------
    revno: 5275.1.748
    merged: jerry@samba.org-20070530220227-8gyagw0rhg44brp1
    parent: jerry@samba.org-20070530220222-p4pp26wewud3bitq
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-30 17:02:27 -0500
    message:
      jerry@samba.org (r23251)  2007-05-30 16:55:49 -0500 (Wed, 30 May 2007)
          
          whoops!  Fix compile error
    ------------------------------------------------------------
    revno: 5275.1.747
    merged: jerry@samba.org-20070530220222-p4pp26wewud3bitq
    parent: jerry@samba.org-20070530220216-lw6vxlmc1lsm7qcl
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-30 17:02:22 -0500
    message:
      jerry@samba.org (r23249)  2007-05-30 16:46:03 -0500 (Wed, 30 May 2007)
          
          another sync from 3.0.26 for the echo work to rpcclient
    ------------------------------------------------------------
    revno: 5275.1.746
    merged: jerry@samba.org-20070530220216-lw6vxlmc1lsm7qcl
    parent: jerry@samba.org-20070530200145-9b6bl4io4bcnp9xy
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-30 17:02:16 -0500
    message:
      jerry@samba.org (r23248)  2007-05-30 16:43:48 -0500 (Wed, 30 May 2007)
          
          Merge echo pipe implementation chanegs from SAMBA_3_0_26
          just to stay in sink.  This was more or less just for me 
          to play with.
          
          
    ------------------------------------------------------------
    revno: 5275.1.745
    merged: jerry@samba.org-20070530200145-9b6bl4io4bcnp9xy
    parent: jerry@samba.org-20070530150139-eqa7jtzj48xnzo3c
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-30 15:01:45 -0500
    message:
      jerry@samba.org (r23244)  2007-05-30 14:47:35 -0500 (Wed, 30 May 2007)
          
          Fix loop with nscd and NSS recusive calls.
          
          > Here's the problem I hit:
          >
          > getgrnam("foo") -> nscd -> NSS -> winbindd ->
          >   winbindd_passdb.c:nam_to_sid() -> lookup_global_sam_name() ->
          >   getgrnam("foo") -> nscd -> ....
          >
          > This is in the SAMBA_3_0 specifically but in theory could happen
          > SAMBA_3_0_25 (or 26) for an unknown group.
          >
          > The attached patch passes down enough state for the
          > name_to_sid() call to be able to determine the originating
          > winbindd cmd that came into the parent.  So we can avoid
          > making more NSS calls if the original call came in trough NSS
          > so we don't deadlock ?  But you should still service
          > lookupname() calls which are needed for example when
          > doing the token access checks for a "valid groups" from
          > smb.conf.
          >
          > I've got this in testing now.  The problem has shown up with the
          > DsProvider on OS X and with nscd on SOlaris and Linux.
          
          
    ------------------------------------------------------------
    revno: 5275.1.744
    merged: jerry@samba.org-20070530150139-eqa7jtzj48xnzo3c
    parent: vlendec@samba.org-20070530134554-nbp0e2onalu7rb21
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-30 10:01:39 -0500
    message:
      jerry@samba.org (r23242)  2007-05-30 09:53:10 -0500 (Wed, 30 May 2007)
          
          BUG 4671: Fix Makefile syntax error when SMBMOUNT_PROGS is not defined
    ------------------------------------------------------------
    revno: 5275.1.743
    merged: vlendec@samba.org-20070530134554-nbp0e2onalu7rb21
    parent: vlendec@samba.org-20070530071619-p5pd4cri2via6sw8
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-30 08:45:54 -0500
    message:
      vlendec@samba.org (r23241)  2007-05-30 08:41:38 -0500 (Wed, 30 May 2007)
          
          In preparation for the cluster messaging import the parent smbd needs to
          respond to events.c style events.
          
    ------------------------------------------------------------
    revno: 5275.1.742
    merged: vlendec@samba.org-20070530071619-p5pd4cri2via6sw8
    parent: vlendec@samba.org-20070529202222-ip9idmb6vnbv3d1k
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-30 02:16:19 -0500
    message:
      vlendec@samba.org (r23236)  2007-05-30 02:02:40 -0500 (Wed, 30 May 2007)
          
          Another bad merge: Correctly free and unlock the session record in
          session_claim. Jerry, this fixes the hanging smbstatus.
          
          Sorry for that,
          
          Volker
          
    ------------------------------------------------------------
    revno: 5275.1.741
    merged: vlendec@samba.org-20070529202222-ip9idmb6vnbv3d1k
    parent: vlendec@samba.org-20070529202216-hd7lrnyxi1neovq7
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 15:22:22 -0500
    message:
      vlendec@samba.org (r23228)  2007-05-29 14:54:26 -0500 (Tue, 29 May 2007)
          
          Merge cleanup to the gpfs module from Tridge. Also potentially disable
          gpfs share modes in special situations. This might be split up in
          several modules later.
          
    ------------------------------------------------------------
    revno: 5275.1.740
    merged: vlendec@samba.org-20070529202216-hd7lrnyxi1neovq7
    parent: vlendec@samba.org-20070529202210-4jtafuqc8rltbgg8
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 15:22:16 -0500
    message:
      vlendec@samba.org (r23226)  2007-05-29 14:36:13 -0500 (Tue, 29 May 2007)
          
          Make the "debug prefix timestamp" output a bit more readable by making
          the debug level alway at least 2 digits
          
    ------------------------------------------------------------
    revno: 5275.1.739
    merged: vlendec@samba.org-20070529202210-4jtafuqc8rltbgg8
    parent: vlendec@samba.org-20070529202203-gcaq2qmushrw5msy
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 15:22:10 -0500
    message:
      vlendec@samba.org (r23225)  2007-05-29 14:31:57 -0500 (Tue, 29 May 2007)
          
          Attached find a patch that makes use of NetSamLogonEx in
          winbind. With this and W2k3 DCs around it is possible to use
          more than one winbind on the same machine account, because
          NetSamLogonEx does not use the credentials chain.
          
          I added the flag domain->can_do_samlogon_ex because this
          only works against W2k3 and with schannel. The theory is to
          try if we're AD and have schannel, and fall back to
          NetSamLogon if this fails. can_do_samlogon_ex is thus a
          protection against multiple failures.
          
          Only checking into 3_0, this needs more review before going
          into a production release.
          
          Feel free to comment :-)
          
          
    ------------------------------------------------------------
    revno: 5275.1.738
    merged: vlendec@samba.org-20070529202203-gcaq2qmushrw5msy
    parent: vlendec@samba.org-20070529202156-qlgwne7vhgw24i64
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 15:22:03 -0500
    message:
      vlendec@samba.org (r23224)  2007-05-29 14:09:38 -0500 (Tue, 29 May 2007)
          
          useful even in binaries that don't link in libsmb
          
    ------------------------------------------------------------
    revno: 5275.1.737
    merged: vlendec@samba.org-20070529202156-qlgwne7vhgw24i64
    parent: vlendec@samba.org-20070529183550-k1sb1x9hus9vzk2o
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 15:21:56 -0500
    message:
      vlendec@samba.org (r23223)  2007-05-29 13:41:16 -0500 (Tue, 29 May 2007)
          
          Convert a leftover direct tdb access to sessionid.tdb
          
    ------------------------------------------------------------
    revno: 5275.1.736
    merged: vlendec@samba.org-20070529183550-k1sb1x9hus9vzk2o
    parent: vlendec@samba.org-20070529183544-iw5b0n5zk68z0431
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 13:35:50 -0500
    message:
      vlendec@samba.org (r23222)  2007-05-29 13:32:49 -0500 (Tue, 29 May 2007)
          
          share_mode_forall() is only for counting and status display stuff, so
          traverse_read is enough here
          
    ------------------------------------------------------------
    revno: 5275.1.735
    merged: vlendec@samba.org-20070529183544-iw5b0n5zk68z0431
    parent: vlendec@samba.org-20070529183539-7472nz2hb5l84y79
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 13:35:44 -0500
    message:
      vlendec@samba.org (r23221)  2007-05-29 13:14:54 -0500 (Tue, 29 May 2007)
          
          Fix a bad merge, avoid a memory leak and tdb lock problem
          
    ------------------------------------------------------------
    revno: 5275.1.734
    merged: vlendec@samba.org-20070529183539-7472nz2hb5l84y79
    parent: vlendec@samba.org-20070529183532-6ebpb3k74ggufi43
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 13:35:39 -0500
    message:
      vlendec@samba.org (r23220)  2007-05-29 13:04:38 -0500 (Tue, 29 May 2007)
          
          Add traverse_read to dbwrap
          
    ------------------------------------------------------------
    revno: 5275.1.733
    merged: vlendec@samba.org-20070529183532-6ebpb3k74ggufi43
    parent: gd@samba.org-20070529170417-m3egay8ztptgrmnt
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 13:35:32 -0500
    message:
      vlendec@samba.org (r23219)  2007-05-29 12:57:52 -0500 (Tue, 29 May 2007)
          
          Two warnings
          
    ------------------------------------------------------------
    revno: 5275.1.732
    merged: gd@samba.org-20070529170417-m3egay8ztptgrmnt
    parent: jerry@samba.org-20070529170408-cc1y0sjh2gdtxj55
    committer: gd@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 12:04:17 -0500
    message:
      gd@samba.org (r23210)  2007-05-29 10:27:13 -0500 (Tue, 29 May 2007)
          
          Very funny, we thought to use netr_GetDcName (e.g. in winbind) but were using
          netr_GetDcAnyName all the time (which is the correct thing to do). 
          
          Fix the naming and opcode mixup in all branches.
          
          Guenther
          
    ------------------------------------------------------------
    revno: 5275.1.731
    merged: jerry@samba.org-20070529170408-cc1y0sjh2gdtxj55
    parent: jerry@samba.org-20070529170402-vbj5dt1cdm0zyskm
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 12:04:08 -0500
    message:
      jerry@samba.org (r23207)  2007-05-29 09:53:46 -0500 (Tue, 29 May 2007)
          
          merge net help test fix from SAMBA_3_0_26
    ------------------------------------------------------------
    revno: 5275.1.730
    merged: jerry@samba.org-20070529170402-vbj5dt1cdm0zyskm
    parent: vlendec@samba.org-20070529170354-5vnnmgzy5xultef5
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 12:04:02 -0500
    message:
      jerry@samba.org (r23206)  2007-05-29 09:53:13 -0500 (Tue, 29 May 2007)
          
          remove unreachable code
    ------------------------------------------------------------
    revno: 5275.1.729
    merged: vlendec@samba.org-20070529170354-5vnnmgzy5xultef5
    parent: vlendec@samba.org-20070529133151-xt9qorbl8u6plg4n
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 12:03:54 -0500
    message:
      vlendec@samba.org (r23204)  2007-05-29 09:49:19 -0500 (Tue, 29 May 2007)
          
          Add MSG_SMB_BRL_VALIDATE. Tridge, this is a bit different from your bzr
          branch, please check if it fulfils your needs.
          
          Two changes: The validation is not done inside the brlock.c traverse_fn,
          it's done as a separate routine. 
          
          Secondly, this patch does not call the checker routines in smbcontrol
          directly but depends on a running smbd.
          
          
    ------------------------------------------------------------
    revno: 5275.1.728
    merged: vlendec@samba.org-20070529133151-xt9qorbl8u6plg4n
    parent: jerry@samba.org-20070529133145-zb27i11r79n8o5pi
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 08:31:51 -0500
    message:
      vlendec@samba.org (r23195)  2007-05-29 08:26:44 -0500 (Tue, 29 May 2007)
          
          Add void *private_data to brl_forall
          
    ------------------------------------------------------------
    revno: 5275.1.727
    merged: jerry@samba.org-20070529133145-zb27i11r79n8o5pi
    parent: jerry@samba.org-20070529131541-ryor0ro5379c8t32
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 08:31:45 -0500
    message:
      jerry@samba.org (r23194)  2007-05-29 08:20:40 -0500 (Tue, 29 May 2007)
          
          cherry pick two fixes from SAMBA_3_0_26 
          
          * strptime() failure check
          * make legcacy sid/uid/gid calls static
          
          
    ------------------------------------------------------------
    revno: 5275.1.726
    merged: jerry@samba.org-20070529131541-ryor0ro5379c8t32
    parent: vlendec@samba.org-20070529110055-2gbor27myn7cpmax
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 08:15:41 -0500
    message:
      jerry@samba.org (r23192)  2007-05-29 08:18:57 -0500 (Tue, 29 May 2007)
          
          Remove fallback to looking up group mappings by the 
          Unix name after discussion with Simo.
          
          
    ------------------------------------------------------------
    revno: 5275.1.725
    merged: vlendec@samba.org-20070529110055-2gbor27myn7cpmax
    parent: vlendec@samba.org-20070529104544-35t8gem1sfc74pr4
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 06:00:55 -0500
    message:
      vlendec@samba.org (r23186)  2007-05-29 05:50:25 -0500 (Tue, 29 May 2007)
          
          Checkin on behalf of Tridge:
          
          Change notify.tdb to use dbwrap
          
    ------------------------------------------------------------
    revno: 5275.1.724
    merged: vlendec@samba.org-20070529104544-35t8gem1sfc74pr4
    parent: vlendec@samba.org-20070529101604-4n7jeghgj9mm9q8o
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 05:45:44 -0500
    message:
      vlendec@samba.org (r23185)  2007-05-29 05:48:42 -0500 (Tue, 29 May 2007)
          
          Try to fix the IRIX build, also add the forgotten file_id.c in .26
          
    ------------------------------------------------------------
    revno: 5275.1.723
    merged: vlendec@samba.org-20070529101604-4n7jeghgj9mm9q8o
    parent: vlendec@samba.org-20070529093112-t0a0lk8ti9bui4vm
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 05:16:04 -0500
    message:
      vlendec@samba.org (r23184)  2007-05-29 05:15:01 -0500 (Tue, 29 May 2007)
          
          Checkin for Tridge: Add a speed test to tdbtool
          
    ------------------------------------------------------------
    revno: 5275.1.722
    merged: vlendec@samba.org-20070529093112-t0a0lk8ti9bui4vm
    parent: vlendec@samba.org-20070528133058-exap0hllgveqrgms
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-29 04:31:12 -0500
    message:
      vlendec@samba.org (r23183)  2007-05-29 04:30:34 -0500 (Tue, 29 May 2007)
          
          Check in a change made by Tridge:
          
          This replaces the internal explicit dev/ino file id representation by a
          "struct file_id". This is necessary as cluster file systems and NFS
          don't necessarily assign the same device number to the shared file
          system. With this structure in place we can now easily add different
          schemes to map a file to a unique 64-bit device node.
          
          Jeremy, you might note that I did not change the external interface of
          smb_share_modes.c.
          
          Volker
          
    ------------------------------------------------------------
    revno: 5275.1.721
    merged: vlendec@samba.org-20070528133058-exap0hllgveqrgms
    parent: vlendec@samba.org-20070528124601-yrqovx2hdlku77uw
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-28 08:30:58 -0500
    message:
      vlendec@samba.org (r23173)  2007-05-28 08:33:54 -0500 (Mon, 28 May 2007)
          
          Convert sessionid.tdb to ctdb. The 3.0.26 patch is a bit larger because
          it brings across the tdb-based list_sessions
          
    ------------------------------------------------------------
    revno: 5275.1.720
    merged: vlendec@samba.org-20070528124601-yrqovx2hdlku77uw
    parent: vlendec@samba.org-20070528114605-pu82oqb1x4geh87c
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-28 07:46:01 -0500
    message:
      vlendec@samba.org (r23172)  2007-05-28 07:39:39 -0500 (Mon, 28 May 2007)
          
          Change shutdown_other_smbds to use connections_traverse instead of
          session_traverse.
          
    ------------------------------------------------------------
    revno: 5275.1.719
    merged: vlendec@samba.org-20070528114605-pu82oqb1x4geh87c
    parent: vlendec@samba.org-20070528111549-5izpo2hm998uaksg
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-28 06:46:05 -0500
    message:
      vlendec@samba.org (r23171)  2007-05-28 06:38:42 -0500 (Mon, 28 May 2007)
          
          Convert connections.tdb to dbwrap
          
    ------------------------------------------------------------
    revno: 5275.1.718
    merged: vlendec@samba.org-20070528111549-5izpo2hm998uaksg
    parent: vlendec@samba.org-20070527171604-ujow6tfip5tb1gqz
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-28 06:15:49 -0500
    message:
      vlendec@samba.org (r23170)  2007-05-28 06:08:58 -0500 (Mon, 28 May 2007)
          
          Add map_nt_error_from_tdb()
          
    ------------------------------------------------------------
    revno: 5275.1.717
    merged: vlendec@samba.org-20070527171604-ujow6tfip5tb1gqz
    parent: vlendec@samba.org-20070527164601-w2gkk70tir0536lp
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sun 2007-05-27 12:16:04 -0500
    message:
      vlendec@samba.org (r23169)  2007-05-27 12:12:08 -0500 (Sun, 27 May 2007)
          
          Merge 535 of Tridge's bzr tree:
          
          store the right data after cleaning lock records. This fixes
          RAW-BENCH-LOCK after a recovery on a cluster
          
          
    ------------------------------------------------------------
    revno: 5275.1.716
    merged: vlendec@samba.org-20070527164601-w2gkk70tir0536lp
    parent: vlendec@samba.org-20070527163049-yc04q0bjy1g8woht
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sun 2007-05-27 11:46:01 -0500
    message:
      vlendec@samba.org (r23168)  2007-05-27 11:34:49 -0500 (Sun, 27 May 2007)
          
          Move the lp_max_connections() into service.c.
          
    ------------------------------------------------------------
    revno: 5275.1.715
    merged: vlendec@samba.org-20070527163049-yc04q0bjy1g8woht
    parent: lmuelle@samba.org-20070527160218-azqnc3jevzyebvwj
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sun 2007-05-27 11:30:49 -0500
    message:
      vlendec@samba.org (r23167)  2007-05-27 11:22:12 -0500 (Sun, 27 May 2007)
          
          Remove an unused parameter
          
    ------------------------------------------------------------
    revno: 5275.1.714
    merged: lmuelle@samba.org-20070527160218-azqnc3jevzyebvwj
    parent: vlendec@samba.org-20070527104546-1ci8n706n6u7c0z2
    committer: lmuelle@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sun 2007-05-27 11:02:18 -0500
    message:
      lmuelle@samba.org (r23166)  2007-05-27 10:58:19 -0500 (Sun, 27 May 2007)
          
          Bring samba.org's iniparser copy in sync with the upstream version 2.17.
          
    ------------------------------------------------------------
    revno: 5275.1.713
    merged: vlendec@samba.org-20070527104546-1ci8n706n6u7c0z2
    parent: vlendec@samba.org-20070527103047-qfhqlqox2ccjx0oz
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sun 2007-05-27 05:45:46 -0500
    message:
      vlendec@samba.org (r23165)  2007-05-27 05:35:14 -0500 (Sun, 27 May 2007)
          
          Convert brlock.tdb to dbwrap
          
    ------------------------------------------------------------
    revno: 5275.1.712
    merged: vlendec@samba.org-20070527103047-qfhqlqox2ccjx0oz
    parent: vlendec@samba.org-20070527100113-vqe1372m6rs3lw3y
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sun 2007-05-27 05:30:47 -0500
    message:
      vlendec@samba.org (r23164)  2007-05-27 05:25:23 -0500 (Sun, 27 May 2007)
          
          Minor cosmetic checkin
          
    ------------------------------------------------------------
    revno: 5275.1.711
    merged: vlendec@samba.org-20070527100113-vqe1372m6rs3lw3y
    parent: vlendec@samba.org-20070527093058-nw56r7lpch8tkn2a
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sun 2007-05-27 05:01:13 -0500
    message:
      vlendec@samba.org (r23163)  2007-05-27 04:57:05 -0500 (Sun, 27 May 2007)
          
          Convert locking.tdb to dbwrap
          
    ------------------------------------------------------------
    revno: 5275.1.710
    merged: vlendec@samba.org-20070527093058-nw56r7lpch8tkn2a
    parent: vlendec@samba.org-20070527093053-1ztsy1nk2homtrmg
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sun 2007-05-27 04:30:58 -0500
    message:
      vlendec@samba.org (r23162)  2007-05-27 04:29:26 -0500 (Sun, 27 May 2007)
          
          Make use of messaging_send_buf
          
    ------------------------------------------------------------
    revno: 5275.1.709
    merged: vlendec@samba.org-20070527093053-1ztsy1nk2homtrmg
    parent: lmuelle@samba.org-20070526133100-yrgp9asfkagdwk2y
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sun 2007-05-27 04:30:53 -0500
    message:
      vlendec@samba.org (r23161)  2007-05-27 04:22:11 -0500 (Sun, 27 May 2007)
          
          Add TDB_VOLATILE as open_flag to activate the per-hashchain dead record
          optimization.
          
    ------------------------------------------------------------
    revno: 5275.1.708
    merged: lmuelle@samba.org-20070526133100-yrgp9asfkagdwk2y
    parent: lmuelle@samba.org-20070526133055-5rb838fhevis89re
    committer: lmuelle@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sat 2007-05-26 08:31:00 -0500
    message:
      lmuelle@samba.org (r23156)  2007-05-26 08:33:56 -0500 (Sat, 26 May 2007)
          
          Install the smb_share_modes.h header file.
          
    ------------------------------------------------------------
    revno: 5275.1.707
    merged: lmuelle@samba.org-20070526133055-5rb838fhevis89re
    parent: lmuelle@samba.org-20070526133050-tekatt1yoxfhck9e
    committer: lmuelle@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sat 2007-05-26 08:30:55 -0500
    message:
      lmuelle@samba.org (r23155)  2007-05-26 08:30:45 -0500 (Sat, 26 May 2007)
          
          Rename INSTALLPERMS to INSTALLPERMS_BIN to differenciate clearer from
          INSTALLPERMS_DATA.
          
    ------------------------------------------------------------
    revno: 5275.1.706
    merged: lmuelle@samba.org-20070526133050-tekatt1yoxfhck9e
    parent: jra@samba.org-20070526013120-zwm5ttkub9qqnskk
    committer: lmuelle@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sat 2007-05-26 08:30:50 -0500
    message:
      lmuelle@samba.org (r23154)  2007-05-26 08:24:56 -0500 (Sat, 26 May 2007)
          
          Add INSTALLPERMS_DATA set to 0644 to install the header files with this
          permission set instead of 0755.
          
    ------------------------------------------------------------
    revno: 5275.1.705
    merged: jra@samba.org-20070526013120-zwm5ttkub9qqnskk
    parent: jra@samba.org-20070526013115-tkbefta4hl1ra7yt
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Fri 2007-05-25 20:31:20 -0500
    message:
      jra@samba.org (r23151)  2007-05-25 20:26:09 -0500 (Fri, 25 May 2007)
          
          Re-arrange the logic so it looks identical to the
          "file existed" case above. This has no functional
          change but is easier to see that it's doing the
          same thing.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.704
    merged: jra@samba.org-20070526013115-tkbefta4hl1ra7yt
    parent: jra@samba.org-20070526000120-ml8e1ibg7rf7dvv6
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Fri 2007-05-25 20:31:15 -0500
    message:
      jra@samba.org (r23150)  2007-05-25 20:19:51 -0500 (Fri, 25 May 2007)
          
          Fix Samba3 in the build farm again. In the case where the
          file was being created and we go into the race condition check,
          we were testing for compatible open modes, but were not breaking
          oplocks in the same way as if the file existed. This meant that
          we weren't going into the code path that sets fsp->oplock = FAKE_LEVEL_II_OPLOCK
          if the client didn't ask for an oplock on file create. We need
          to do this as internally it's what Windows does.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.703
    merged: jra@samba.org-20070526000120-ml8e1ibg7rf7dvv6
    parent: jra@samba.org-20070525220114-78p6dxj25epginq0
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Fri 2007-05-25 19:01:20 -0500
    message:
      jra@samba.org (r23148)  2007-05-25 18:50:35 -0500 (Fri, 25 May 2007)
          
          Fix old old bug in cli_smbwrite() (not incrementing
          data being sent). Patch from mnix@wanm.com.au.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.702
    merged: jra@samba.org-20070525220114-78p6dxj25epginq0
    parent: gd@samba.org-20070524231612-lw2zyv95m4964tvn
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Fri 2007-05-25 17:01:14 -0500
    message:
      jra@samba.org (r23147)  2007-05-25 17:04:03 -0500 (Fri, 25 May 2007)
          
          Patch #4566 from jacob berkman <jberkman@novell.com>. Pass password data to krb5_prompter.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.701
    merged: gd@samba.org-20070524231612-lw2zyv95m4964tvn
    parent: gd@samba.org-20070524231607-g50yqp5198md8jio
    committer: gd@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-24 18:16:12 -0500
    message:
      gd@samba.org (r23128)  2007-05-24 18:17:24 -0500 (Thu, 24 May 2007)
          
          Fix typo.
          
          Guenther
          
    ------------------------------------------------------------
    revno: 5275.1.700
    merged: gd@samba.org-20070524231607-g50yqp5198md8jio
    parent: jra@samba.org-20070524204606-v3gc4016b54imt6e
    committer: gd@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-24 18:16:07 -0500
    message:
      gd@samba.org (r23127)  2007-05-24 18:11:11 -0500 (Thu, 24 May 2007)
          
          Fill in some more netlogon dsgetdcname flavours (netr_DsRGetDCNameEx,
          netr_DsRGetDCNameEx2) and add new ds request and reply flags, also add some
          more WERROR codes.
          
          Guenther
          
          
    ------------------------------------------------------------
    revno: 5275.1.699
    merged: jra@samba.org-20070524204606-v3gc4016b54imt6e
    parent: gd@samba.org-20070524203103-ngve1amwag2g8ecw
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-24 15:46:06 -0500
    message:
      jra@samba.org (r23122)  2007-05-24 15:40:46 -0500 (Thu, 24 May 2007)
          
          Fix bug #4655. We marshall the enumdataex correctly,
          but W2K3 doesn't follow our rules when sending data to
          us. Ensure we look for the data at the correct offsets
          when reading the data.
          Too late for 3.0.25a - don't merge.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.698
    merged: gd@samba.org-20070524203103-ngve1amwag2g8ecw
    parent: vlendec@samba.org-20070524144547-8d8zaf0btn52uv8r
    committer: gd@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-24 15:31:03 -0500
    message:
      gd@samba.org (r23121)  2007-05-24 15:26:07 -0500 (Thu, 24 May 2007)
          
          Fix Bug #2727 and let pam_smbpass at least link and dlopen correctly again.
          
          Thanks to Bartlomiej Solarz-Niesluchowski <Bartlomiej.Solarz-Niesluchowski@wit.edu.pl>.
          
          Guenther
          
    ------------------------------------------------------------
    revno: 5275.1.697
    merged: vlendec@samba.org-20070524144547-8d8zaf0btn52uv8r
    parent: vlendec@samba.org-20070524143106-0c5kteg0y4o8r217
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-24 09:45:47 -0500
    message:
      vlendec@samba.org (r23117)  2007-05-24 09:47:24 -0500 (Thu, 24 May 2007)
          
          Factor out local messaging.
          
          This removes message_block / message_unblock. I've talked to Jeremy and
          G?\195?\188nther, giving them my reasons why I believe they have no effect.
          Neither could come up with a counter-argument, so they go :-)
          
    ------------------------------------------------------------
    revno: 5275.1.696
    merged: vlendec@samba.org-20070524143106-0c5kteg0y4o8r217
    parent: vlendec@samba.org-20070524112312-gonf66lr2sgu863l
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-24 09:31:06 -0500
    message:
      vlendec@samba.org (r23116)  2007-05-24 08:49:10 -0500 (Thu, 24 May 2007)
          
          Fix typo, found by Karolin Seeger
          
    ------------------------------------------------------------
    revno: 5275.1.695
    merged: vlendec@samba.org-20070524112312-gonf66lr2sgu863l
    parent: obnox@samba.org-20070524112307-8p14xx54ae23u59x
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-24 06:23:12 -0500
    message:
      vlendec@samba.org (r23112)  2007-05-24 06:09:37 -0500 (Thu, 24 May 2007)
          
          Trim down the message.c API slightly: The messages_pending_for_pid is now
          replaced by MSG_FLAG_LOWPRIORITY or'ed into the msg_type. To enable this,
          changed the msg_type definitions to hexadecimal.
          
          This way we could theoretically add the MSG_FLAG_NODUPLICATES again, but I
          would rather not do this, because that one is racy and can't be guaranteed at
          all.
    ------------------------------------------------------------
    revno: 5275.1.694
    merged: obnox@samba.org-20070524112307-8p14xx54ae23u59x
    parent: obnox@samba.org-20070524071531-4ajlv1b8dkc9ijuf
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-24 06:23:07 -0500
    message:
      obnox@samba.org (r23109)  2007-05-24 04:06:15 -0500 (Thu, 24 May 2007)
          
          Redo the change from r22772 I accidentially undid in r23108.
          
          Michael
          
          
    ------------------------------------------------------------
    revno: 5275.1.693
    merged: obnox@samba.org-20070524071531-4ajlv1b8dkc9ijuf
    parent: jra@samba.org-20070524021647-3aeqozlsirfkwml3
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-24 02:15:31 -0500
    message:
      obnox@samba.org (r23108)  2007-05-24 02:15:36 -0500 (Thu, 24 May 2007)
          
          Add defines of RTLD_NOW and RTLD_GLOBAL to replace.h.
          Fixing build of ldb for instance on some systems without dlfcn.h.
          
          
    ------------------------------------------------------------
    revno: 5275.1.692
    merged: jra@samba.org-20070524021647-3aeqozlsirfkwml3
    parent: jra@samba.org-20070524021642-azcd186gqwtw54cl
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-23 21:16:47 -0500
    message:
      jra@samba.org (r23107)  2007-05-23 20:57:02 -0500 (Wed, 23 May 2007)
          
          Fix renames on file descriptors that are supposed to overwrite the
          target. Needs merging for 3.0.25a (sorry).
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.691
    merged: jra@samba.org-20070524021642-azcd186gqwtw54cl
    parent: jra@samba.org-20070524021636-r21s0tyrxz2u3wu6
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-23 21:16:42 -0500
    message:
      jra@samba.org (r23106)  2007-05-23 19:13:24 -0500 (Wed, 23 May 2007)
          
          Use lchown for symlinks.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.690
    merged: jra@samba.org-20070524021636-r21s0tyrxz2u3wu6
    parent: jra@samba.org-20070523220536-e7z000swcxmd79bl
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-23 21:16:36 -0500
    message:
      jra@samba.org (r23105)  2007-05-23 18:55:12 -0500 (Wed, 23 May 2007)
          
          Add lchown to the vfs layer. We need this in the POSIX code.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.689
    merged: jra@samba.org-20070523220536-e7z000swcxmd79bl
    parent: jpeach@samba.org-20070523220526-t2cbz0ar5gmfvhc2
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-23 17:05:36 -0500
    message:
      jra@samba.org (r23100)  2007-05-23 16:32:10 -0500 (Wed, 23 May 2007)
          
          Implement the delete on close semantics I've just tested for
          in Samba4 smbtorture. Fix rename on an open file handle.
          Needed for 3.0.25a.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.688
    merged: jpeach@samba.org-20070523220526-t2cbz0ar5gmfvhc2
    parent: jpeach@samba.org-20070523220518-vu4tohztzj24o25s
    committer: jpeach@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-23 17:05:26 -0500
    message:
      jpeach@samba.org (r23098)  2007-05-23 15:48:53 -0500 (Wed, 23 May 2007)
          
          Fix the case of the #include statements so this module can be built on a
          case-sensitive filesystem.
          
    ------------------------------------------------------------
    revno: 5275.1.687
    merged: jpeach@samba.org-20070523220518-vu4tohztzj24o25s
    parent: jpeach@samba.org-20070523220512-p2dmn7vz1wcjjug3
    committer: jpeach@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-23 17:05:18 -0500
    message:
      jpeach@samba.org (r23097)  2007-05-23 15:46:07 -0500 (Wed, 23 May 2007)
          
          Add a new configure option to disable building SWAT (it is still built by
          default).
          
    ------------------------------------------------------------
    revno: 5275.1.686
    merged: jpeach@samba.org-20070523220512-p2dmn7vz1wcjjug3
    parent: jpeach@samba.org-20070523220505-qjaduw4bot0egq7y
    committer: jpeach@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-23 17:05:12 -0500
    message:
      jpeach@samba.org (r23096)  2007-05-23 15:38:14 -0500 (Wed, 23 May 2007)
          
          Make the lock failure message prettier.
          
    ------------------------------------------------------------
    revno: 5275.1.685
    merged: jpeach@samba.org-20070523220505-qjaduw4bot0egq7y
    parent: jpeach@samba.org-20070523220459-x1b19bf9nzu0ugz5
    committer: jpeach@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-23 17:05:05 -0500
    message:
      jpeach@samba.org (r23095)  2007-05-23 15:31:28 -0500 (Wed, 23 May 2007)
          
          
    ------------------------------------------------------------
    revno: 5275.1.684
    merged: jpeach@samba.org-20070523220459-x1b19bf9nzu0ugz5
    parent: jpeach@samba.org-20070523220453-ny9b1eew15oypwyb
    committer: jpeach@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-23 17:04:59 -0500
    message:
      jpeach@samba.org (r23094)  2007-05-23 14:57:13 -0500 (Wed, 23 May 2007)
          
          Update the iconv detection to handle cross-compiles better. If we are
          cross-compiling, we accept the first iconv library that we find (with a
          warning).
          
    ------------------------------------------------------------
    revno: 5275.1.683
    merged: jpeach@samba.org-20070523220453-ny9b1eew15oypwyb
    parent: vlendec@samba.org-20070523151536-ju1ah1oioyevk62w
    committer: jpeach@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-23 17:04:53 -0500
    message:
      jpeach@samba.org (r23093)  2007-05-23 14:10:04 -0500 (Wed, 23 May 2007)
          
          Allow modules with the same name but different types.
          
    ------------------------------------------------------------
    revno: 5275.1.682
    merged: vlendec@samba.org-20070523151536-ju1ah1oioyevk62w
    parent: jra@samba.org-20070523000056-ogyrrvkapx6whqof
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-23 10:15:36 -0500
    message:
      vlendec@samba.org (r23091)  2007-05-23 10:17:49 -0500 (Wed, 23 May 2007)
          
          Add rpccli_netlogon_sam_network_logon_ex, fix its parsing. This does not
          use the credential chain and only works over netlogon, but it would
          allow multiple outstanding auth requests for a single workstation
          account.
          
    ------------------------------------------------------------
    revno: 5275.1.681
    merged: jra@samba.org-20070523000056-ogyrrvkapx6whqof
    parent: jra@samba.org-20070522224600-9bm1ejc8e63d0uab
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-22 19:00:56 -0500
    message:
      jra@samba.org (r23088)  2007-05-22 18:56:47 -0500 (Tue, 22 May 2007)
          
          Fix rename for cifsfs client. This may be needed for
          3.0.25a.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.680
    merged: jra@samba.org-20070522224600-9bm1ejc8e63d0uab
    parent: obnox@samba.org-20070522211516-npfdnqhyx8gh4x7s
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-22 17:46:00 -0500
    message:
      jra@samba.org (r23087)  2007-05-22 17:35:13 -0500 (Tue, 22 May 2007)
          
          Fix POSIX setfilepathinfo to use lstat, not stat.
          Still missing lchown (will add this for 3.0.26).
          Don't merge for 3.0.25a - possibly 3.0.25b (if it
          exists).
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.679
    merged: obnox@samba.org-20070522211516-npfdnqhyx8gh4x7s
    parent: obnox@samba.org-20070522211511-2q8r3b9vxutwxmqj
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-22 16:15:16 -0500
    message:
      obnox@samba.org (r23082)  2007-05-22 16:17:31 -0500 (Tue, 22 May 2007)
          
          Ooops - that portion of the last checkin was by accident.
          Before comitting that, I have to verify that it does not
          break anything...
          
          Michael
          
          
    ------------------------------------------------------------
    revno: 5275.1.678
    merged: obnox@samba.org-20070522211511-2q8r3b9vxutwxmqj
    parent: jra@samba.org-20070522203059-meb3vg48lp4gtc9t
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-22 16:15:11 -0500
    message:
      obnox@samba.org (r23081)  2007-05-22 16:04:56 -0500 (Tue, 22 May 2007)
          
          Reorder the lsa_lookup_sids functions so that the order makes more sense... 
          
          
    ------------------------------------------------------------
    revno: 5275.1.677
    merged: jra@samba.org-20070522203059-meb3vg48lp4gtc9t
    parent: obnox@samba.org-20070522151511-p8tl1ri03f6vig6u
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-22 15:30:59 -0500
    message:
      jra@samba.org (r23080)  2007-05-22 15:20:01 -0500 (Tue, 22 May 2007)
          
          Fix bug #4637 - we hads missed some cases where
          we were calling PRS_ALLOC_MEM with zero count.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.676
    merged: obnox@samba.org-20070522151511-p8tl1ri03f6vig6u
    parent: vlendec@samba.org-20070522143033-mgwfrjl9hb3sq2sd
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-22 10:15:11 -0500
    message:
      obnox@samba.org (r23078)  2007-05-22 10:13:32 -0500 (Tue, 22 May 2007)
          
          Don't handle return code NT_STATUS_NONE_MAPPED from lookup sids
          as an error. (This is purely cosmetic here, issuing a success
          message at the end.)
          
          
    ------------------------------------------------------------
    revno: 5275.1.675
    merged: vlendec@samba.org-20070522143033-mgwfrjl9hb3sq2sd
    parent: ab@samba.org-20070522141512-q0mvufwmqqp6i76h
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-22 09:30:33 -0500
    message:
      vlendec@samba.org (r23077)  2007-05-22 09:31:26 -0500 (Tue, 22 May 2007)
          
          Minor cleanup
          
    ------------------------------------------------------------
    revno: 5275.1.674
    merged: ab@samba.org-20070522141512-q0mvufwmqqp6i76h
    parent: jerry@samba.org-20070522135244-xbcmbucxhdb2bquo
    committer: ab@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-22 09:15:12 -0500
    message:
      ab@samba.org (r23076)  2007-05-22 09:13:58 -0500 (Tue, 22 May 2007)
          
          Ignore Eclipse's project files
    ------------------------------------------------------------
    revno: 5275.1.673
    merged: jerry@samba.org-20070522135244-xbcmbucxhdb2bquo
    parent: jerry@samba.org-20070522134102-qu6yyabdut2yjf6t
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-22 08:52:44 -0500
    message:
      jerry@samba.org (r23075)  2007-05-22 08:55:31 -0500 (Tue, 22 May 2007)
          
          more duplicate code blocks from bad merge
    ------------------------------------------------------------
    revno: 5275.1.672
    merged: jerry@samba.org-20070522134102-qu6yyabdut2yjf6t
    parent: obnox@samba.org-20070522134057-jxywcscqho4n1pey
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-22 08:41:02 -0500
    message:
      jerry@samba.org (r23074)  2007-05-22 08:43:34 -0500 (Tue, 22 May 2007)
          
          Remove duplicate code blocks from bad merge
          
          
    ------------------------------------------------------------
    revno: 5275.1.671
    merged: obnox@samba.org-20070522134057-jxywcscqho4n1pey
    parent: obnox@samba.org-20070522130016-wq0wv7qis8jrzz9n
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-22 08:40:57 -0500
    message:
      obnox@samba.org (r23073)  2007-05-22 08:40:01 -0500 (Tue, 22 May 2007)
          
          In the internal rpccli_lsa_lookup_sids_noalloc(), use a temporary 
          talloc context for use with the actual rpc query and response.
          So the the parent context does not get flooded by the posslibly
          large amount of response data (when looking up a lot of sids).
          
          Note: It not possible, to simply use the names and domains arrays
          as talloc contexts for the talloc_strdup calls, because from 
          rpccli_lsa_lookup_sids_all, this is called with names + offset
          and domains + offset where names and domains are talloced 
          arraye for the complete response.
          
          
    ------------------------------------------------------------
    revno: 5275.1.670
    merged: obnox@samba.org-20070522130016-wq0wv7qis8jrzz9n
    parent: obnox@samba.org-20070522113012-lbpv9ll0j8p7jhlk
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-22 08:00:16 -0500
    message:
      obnox@samba.org (r23072)  2007-05-22 07:49:41 -0500 (Tue, 22 May 2007)
          
          In winbindd_ads.c:lookup_groupmem, replace the bottleneck 
          dn_lookup loop by a rpccli_lsa_lookupsids_all (see r23070) 
          call. This replaces one ldap search per member sid by one 
          rpc call per 1000 sids. This greatly speeds up groupmem
          lookups for groups with lots of users.
          
          Since the loop in lookup_groupmem was the only use of dn_lookup,
          the function is removed.
          
          Michael
          
          
    ------------------------------------------------------------
    revno: 5275.1.669
    merged: obnox@samba.org-20070522113012-lbpv9ll0j8p7jhlk
    parent: vlendec@samba.org-20070522103056-6ymbobz139vwnn1o
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-22 06:30:12 -0500
    message:
      obnox@samba.org (r23070)  2007-05-22 06:30:35 -0500 (Tue, 22 May 2007)
          
          The lsa rpc lookup sids call has a maximum number of SIDS to be
          looked up at one time. This limit is at 20480 for w2k3.
          Our rpccli_lsa_lookup_sids function ignores this limit, so when
          we give the server too long a list of SIDs, then we will get
          nothing back. Since typically rpccli_lsa_lookup_sids is given
          one SID  (or a small number of SIDS), this did not do harm 
          up to now. But since I want to use lsa_lookup_sids in a subsequent
          modification to winbindd_ads.c:lookup_groupmem to get rid of
          a vast number of dn_lookup calls to the server, I had to make 
          sure we do it correctly. 
          
          I have added a function rpccli_lsa_lookup_sids_all function
          that has the same prototype but internally splits the list
          of SIDs up into hunks of a (conservative, hard coded) 1000
          SIDs each for a first go.
          
          If this approach is agreed upon, the new function could replace
          the original rpccli_lsa_lookup_sids function.
          
          Michael
          
          
    ------------------------------------------------------------
    revno: 5275.1.668
    merged: vlendec@samba.org-20070522103056-6ymbobz139vwnn1o
    parent: vlendec@samba.org-20070521223045-j3kcaxvljvujqbof
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-22 05:30:56 -0500
    message:
      vlendec@samba.org (r23068)  2007-05-22 05:05:56 -0500 (Tue, 22 May 2007)
          
          Fix some uninitialized variables in the solarisacl module
          
    ------------------------------------------------------------
    revno: 5275.1.667
    merged: vlendec@samba.org-20070521223045-j3kcaxvljvujqbof
    parent: jerry@samba.org-20070521220037-kk2escctnr9ldi7w
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-21 17:30:45 -0500
    message:
      vlendec@samba.org (r23055)  2007-05-21 17:17:13 -0500 (Mon, 21 May 2007)
          
          Rewrite messages.c to use auto-generated marshalling in the tdb. I'm
          doing this because for the clustering the marshalling is needed in more
          than one place, so I wanted a decent routine to marshall a message_rec
          struct which was not there before.
          
          Tridge, this seems about the same speed as it used to be before, the
          librpc/ndr overhead in my tests was under the noise.
          
          Volker
          
          
    ------------------------------------------------------------
    revno: 5275.1.666
    merged: jerry@samba.org-20070521220037-kk2escctnr9ldi7w
    parent: idra@samba.org-20070521210059-3838g6ffh92yjpp6
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-21 17:00:37 -0500
    message:
      jerry@samba.org (r23054)  2007-05-21 16:33:51 -0500 (Mon, 21 May 2007)
          
          Move the check for the lookup_domain of S-1-22-{1,2} before the 
          check for IS_DC.  Otherwise we will for example fail to lookup a
          sid of S-1-22-1-780 because it has no valid struct winbindd_domain*
          in the list.   Thanks to Simo for the catch.
          
          
          
    ------------------------------------------------------------
    revno: 5275.1.665
    merged: idra@samba.org-20070521210059-3838g6ffh92yjpp6
    parent: jerry@samba.org-20070521203339-gamj1u32y24vqagq
    committer: idra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-21 16:00:59 -0500
    message:
      idra@samba.org (r23051)  2007-05-21 15:51:15 -0500 (Mon, 21 May 2007)
          
          
          sid_to_[ug]id fixes for smbd
          
          
    ------------------------------------------------------------
    revno: 5275.1.664
    merged: jerry@samba.org-20070521203339-gamj1u32y24vqagq
    parent: jerry@samba.org-20070521193033-gd01p6enzoxbcik5
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-21 15:33:39 -0500
    message:
      jerry@samba.org (r23048)  2007-05-21 15:36:22 -0500 (Mon, 21 May 2007)
          
          Simo is correct in that winbind_lookup{sid,name}_async() needs
          to be able to handle SIDs in the S-1-22-{1,2} domain in order
          for winbindd_sid_to_uid(), et. al. to succeed.  For 3.0.25a,
          we will short circuit in the sid_to_uid() family of functions
          so that smbd is ok.
          
          For 3.0.26, we need to allow winbindd to handle all types of SIDs.
          
          
    ------------------------------------------------------------
    revno: 5275.1.663
    merged: jerry@samba.org-20070521193033-gd01p6enzoxbcik5
    parent: jmcd@samba.org-20070521160108-doqxmec91fygondh
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-21 14:30:33 -0500
    message:
      jerry@samba.org (r23046)  2007-05-21 14:12:14 -0500 (Mon, 21 May 2007)
          
          Few missing merges from cleaning out the Centeris winbindd tree.
          Nothing of major interest.  Will fix a few problems with one way trusts.
          
          
    ------------------------------------------------------------
    revno: 5275.1.662
    merged: jmcd@samba.org-20070521160108-doqxmec91fygondh
    parent: obnox@samba.org-20070521160103-51d4yukd8vyzy8pu
    committer: jmcd@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-21 11:01:08 -0500
    message:
      jmcd@samba.org (r23041)  2007-05-21 11:01:22 -0500 (Mon, 21 May 2007)
          
          Remainder of fix for 4630: fix special case of unix_to_nt_time() for
          TIME_T_MAX, and also display of it in http_timestring()
          
    ------------------------------------------------------------
    revno: 5275.1.661
    merged: obnox@samba.org-20070521160103-51d4yukd8vyzy8pu
    parent: metze@samba.org-20070521140034-6kr7auzaqyk16l7a
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-21 11:01:03 -0500
    message:
      obnox@samba.org (r23040)  2007-05-21 10:58:27 -0500 (Mon, 21 May 2007)
          
          Activate the winbindd cache validation code in the 
          winbindd main function.
          
          I have tested and somewhat extended the code, and it seems 
          to do a good job. I have possibly not caught all error
          conditions though.
          
          Michael
          
          
    ------------------------------------------------------------
    revno: 5275.1.660
    merged: metze@samba.org-20070521140034-6kr7auzaqyk16l7a
    parent: vlendec@samba.org-20070520203040-1hq4fhhn35i6gaux
    committer: metze@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-21 09:00:34 -0500
    message:
      metze@samba.org (r23039)  2007-05-21 08:40:27 -0500 (Mon, 21 May 2007)
          
          merge from SAMBA_3_0_26:
          
          use a helper function to construct the TDB_DATA key
          as strlen_m() is totally wrong here anyway
          
          metze
    ------------------------------------------------------------
    revno: 5275.1.659
    merged: vlendec@samba.org-20070520203040-1hq4fhhn35i6gaux
    parent: vlendec@samba.org-20070520203035-dq7w3242aj0celw0
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sun 2007-05-20 15:30:40 -0500
    message:
      vlendec@samba.org (r23025)  2007-05-20 15:28:45 -0500 (Sun, 20 May 2007)
          
          Some logic simplifications
          
    ------------------------------------------------------------
    revno: 5275.1.658
    merged: vlendec@samba.org-20070520203035-dq7w3242aj0celw0
    parent: vlendec@samba.org-20070520200033-arvy2hrgnz3til9e
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sun 2007-05-20 15:30:35 -0500
    message:
      vlendec@samba.org (r23024)  2007-05-20 15:11:23 -0500 (Sun, 20 May 2007)
          
          Ok, neither the duplicates_allowed nor the timeout argument to
          message_send_pid is used anymore. Two users of duplicates_allowed: winbind and
          the printer notify system.
          
          I don't thing this really changes semantics: duplicates_allowed is hell racy
          anyway, we can't guarantee that we don't send the same message in sequence
          twice, and I think the only thing we can harm with the print notify is
          performance.
          
          For winbind I talked to G?\195?\188nther, and he did not seem too worried.
          
          Volker
          
          
    ------------------------------------------------------------
    revno: 5275.1.657
    merged: vlendec@samba.org-20070520200033-arvy2hrgnz3til9e
    parent: vlendec@samba.org-20070520170033-8onec0kef97k2tdu
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sun 2007-05-20 15:00:33 -0500
    message:
      vlendec@samba.org (r23023)  2007-05-20 14:43:49 -0500 (Sun, 20 May 2007)
          
          Get rid of the only caller of message_send_pid_with_timeout(). This replaces
          the timeouts on the individual message send calls with an overall timeout on
          all the calls.
          
          The timeout in message_send_pid_with_timeout() did not make much sense IMO
          anyway, because the tdb_fetch() for the messages_pending_for_pid was blocking
          in a readlock anyway, we "just" did the timeout for the write lock.
          
          This new code goes through the full wait for the write lock once and then
          breaks out of sending the notifies instead of running into the timeout per
          target.
          
          Jerry, please check this!
          
          Thanks,
          
          Volker
          
          
    ------------------------------------------------------------
    revno: 5275.1.656
    merged: vlendec@samba.org-20070520170033-8onec0kef97k2tdu
    parent: jra@samba.org-20070519223033-msy4kzdcoo0gizbd
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sun 2007-05-20 12:00:33 -0500
    message:
      vlendec@samba.org (r23022)  2007-05-20 12:00:18 -0500 (Sun, 20 May 2007)
          
          Reformatting
          
    ------------------------------------------------------------
    revno: 5275.1.655
    merged: jra@samba.org-20070519223033-msy4kzdcoo0gizbd
    parent: vlendec@samba.org-20070519220037-x1gui7khn85zs0km
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sat 2007-05-19 17:30:33 -0500
    message:
      jra@samba.org (r23016)  2007-05-19 17:29:59 -0500 (Sat, 19 May 2007)
          
          Remove extra & - thanks to Volker for spotting this.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.654
    merged: vlendec@samba.org-20070519220037-x1gui7khn85zs0km
    parent: jra@samba.org-20070519210101-li1g5gmqpqy8paah
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sat 2007-05-19 17:00:37 -0500
    message:
      vlendec@samba.org (r23015)  2007-05-19 16:53:28 -0500 (Sat, 19 May 2007)
          
          Make message_(de)register static to messages.c
          
    ------------------------------------------------------------
    revno: 5275.1.653
    merged: jra@samba.org-20070519210101-li1g5gmqpqy8paah
    parent: jpeach@samba.org-20070519050032-b9l5s8v4zckw61fa
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sat 2007-05-19 16:01:01 -0500
    message:
      jra@samba.org (r23014)  2007-05-19 15:57:12 -0500 (Sat, 19 May 2007)
          
          For all branches, ensure that if we're blocked on a POSIX
          lock we know nothing about that we retry the lock every
          10 seconds instead of waiting for the standard select
          timeout. This is how we used to (and are supposed to)
          work.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.652
    merged: jpeach@samba.org-20070519050032-b9l5s8v4zckw61fa
    parent: jpeach@samba.org-20070519043031-irtwfu6iq9k2leb8
    committer: jpeach@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Sat 2007-05-19 00:00:32 -0500
    message:
      jpeach@samba.org (r23010)  2007-05-18 23:59:00 -0500 (Fri, 18 May 2007)
          
          Make the output of "smbcontrol --help" match that of "smbcontrol help".
          Bug #3181.
          
    ------------------------------------------------------------
    revno: 5275.1.651
    merged: jpeach@samba.org-20070519043031-irtwfu6iq9k2leb8
    parent: jra@samba.org-20070519013035-f6up3b94kwc3u3d4
    committer: jpeach@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Fri 2007-05-18 23:30:31 -0500
    message:
      jpeach@samba.org (r23009)  2007-05-18 23:23:04 -0500 (Fri, 18 May 2007)
          
          Both contains a strchr_m(server,'/') few lines after replacing all / with \.
          This patch removes this dead code.
          
          Patch from Pascal Terjan <pterjan@mandriva.com> for bug #2313.
          
    ------------------------------------------------------------
    revno: 5275.1.650
    merged: jra@samba.org-20070519013035-f6up3b94kwc3u3d4
    parent: jra@samba.org-20070519000111-nd3b51z0gzxd32vk
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Fri 2007-05-18 20:30:35 -0500
    message:
      jra@samba.org (r23007)  2007-05-18 20:27:34 -0500 (Fri, 18 May 2007)
          
          Ensure we don't allow large read over the possible
          packet size.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.649
    merged: jra@samba.org-20070519000111-nd3b51z0gzxd32vk
    parent: jra@samba.org-20070519000106-i97feedwf198uozh
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Fri 2007-05-18 19:01:11 -0500
    message:
      jra@samba.org (r23006)  2007-05-18 18:56:34 -0500 (Fri, 18 May 2007)
          
          Arg. Fix stupid typo in 64-bit path.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.648
    merged: jra@samba.org-20070519000106-i97feedwf198uozh
    parent: derrell@samba.org-20070518140058-akxtdogegcbbda2e
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Fri 2007-05-18 19:01:06 -0500
    message:
      jra@samba.org (r23005)  2007-05-18 18:38:56 -0500 (Fri, 18 May 2007)
          
          If we're running on a system where time_t is 8 bytes
          we have to take care to preserve the "special" values
          for Windows of 0x80000000 and 0x7FFFFFFF when casting
          between time_t and uint32. Add conversion functions
          (and use them).
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.647
    merged: derrell@samba.org-20070518140058-akxtdogegcbbda2e
    parent: metze@samba.org-20070518100059-bnfksmug0an8v4sp
    committer: derrell@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Fri 2007-05-18 09:00:58 -0500
    message:
      derrell@samba.org (r23001)  2007-05-18 08:42:48 -0500 (Fri, 18 May 2007)
          
          
          - Fix but #4634.  Type of the size parameter to getpeername was wrong.
          
    ------------------------------------------------------------
    revno: 5275.1.646
    merged: metze@samba.org-20070518100059-bnfksmug0an8v4sp
    parent: vlendec@samba.org-20070518090034-3l7u99syr3uflgzm
    committer: metze@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Fri 2007-05-18 05:00:59 -0500
    message:
      metze@samba.org (r22998)  2007-05-18 04:50:56 -0500 (Fri, 18 May 2007)
          
          merge from SAMBA_4_0:
          
          only if the output of which has a leading '/' the output is useful...
          
          metze
    ------------------------------------------------------------
    revno: 5275.1.645
    merged: vlendec@samba.org-20070518090034-3l7u99syr3uflgzm
    parent: sfrench@samba.org-20070517230035-5qfh5ntobqtj08fz
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Fri 2007-05-18 04:00:34 -0500
    message:
      vlendec@samba.org (r22994)  2007-05-18 03:35:01 -0500 (Fri, 18 May 2007)
          
          boxes like this. Thanks, Don!
          
    ------------------------------------------------------------
    revno: 5275.1.644
    merged: sfrench@samba.org-20070517230035-5qfh5ntobqtj08fz
    parent: sfrench@samba.org-20070517223124-5dgeitra5qb3r16p
    committer: sfrench@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-17 18:00:35 -0500
    message:
      sfrench@samba.org (r22982)  2007-05-17 17:40:48 -0500 (Thu, 17 May 2007)
          
          Do not prompt for password on sec=none for mount.cifs (and allow guest
          option to pass to kernel code so it can know when to retry)
          
          
    ------------------------------------------------------------
    revno: 5275.1.643
    merged: sfrench@samba.org-20070517223124-5dgeitra5qb3r16p
    parent: jerry@samba.org-20070517223117-v5s509w3um843fzi
    committer: sfrench@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-17 17:31:24 -0500
    message:
      sfrench@samba.org (r22979)  2007-05-17 17:28:28 -0500 (Thu, 17 May 2007)
          
          Revert previous checkin (which had some debug junk) and fix misc frees that
          valgrind noticed
          
    ------------------------------------------------------------
    revno: 5275.1.642
    merged: jerry@samba.org-20070517223117-v5s509w3um843fzi
    parent: jerry@samba.org-20070517200056-la36iauccr5w0gk1
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-17 17:31:17 -0500
    message:
      jerry@samba.org (r22978)  2007-05-17 17:27:42 -0500 (Thu, 17 May 2007)
          
          Don't use current_user to prep the security ctx in change_to_user 
          popping the security ctx.  This should fix the standalone server
          configuration issues reported by David Rankin (thanks for the logs).
          
          
          
    ------------------------------------------------------------
    revno: 5275.1.641
    merged: jerry@samba.org-20070517200056-la36iauccr5w0gk1
    parent: idra@samba.org-20070517193105-03qnhskev97baoe3
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-17 15:00:56 -0500
    message:
      jerry@samba.org (r22977)  2007-05-17 14:56:54 -0500 (Thu, 17 May 2007)
          
          Trim noise by removing redundant WARNING log message that
          would flood at log level 2.  We know when we're using the legacy
          mapping code anyways since it will log an informative msg.
          
          
    ------------------------------------------------------------
    revno: 5275.1.640
    merged: idra@samba.org-20070517193105-03qnhskev97baoe3
    parent: jerry@samba.org-20070517193057-s721bo6v5asavi17
    committer: idra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-17 14:31:05 -0500
    message:
      idra@samba.org (r22976)  2007-05-17 14:26:08 -0500 (Thu, 17 May 2007)
          
          
          whoops typo
          
          
    ------------------------------------------------------------
    revno: 5275.1.639
    merged: jerry@samba.org-20070517193057-s721bo6v5asavi17
    parent: idra@samba.org-20070517184921-stgf50vxlru0xf4u
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-17 14:30:57 -0500
    message:
      jerry@samba.org (r22975)  2007-05-17 14:16:27 -0500 (Thu, 17 May 2007)
          
          BUG 4616: Don't return a dns or forest name when replying to the 
          DsDGetPrimaryRoleInfo() and configured for security = domain.
          
          
    ------------------------------------------------------------
    revno: 5275.1.638
    merged: idra@samba.org-20070517184921-stgf50vxlru0xf4u
    parent: ab@samba.org-20070517184916-dpfu51v7323dehjz
    committer: idra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-17 13:49:21 -0500
    message:
      idra@samba.org (r22974)  2007-05-17 13:20:16 -0500 (Thu, 17 May 2007)
          
          enable relro with PIE if available, this gives extra protection to the ELF segment
    ------------------------------------------------------------
    revno: 5275.1.637
    merged: ab@samba.org-20070517184916-dpfu51v7323dehjz
    parent: jra@samba.org-20070516230100-erd62i1rmx656wwy
    committer: ab@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Thu 2007-05-17 13:49:16 -0500
    message:
      ab@samba.org (r22973)  2007-05-17 08:56:19 -0500 (Thu, 17 May 2007)
          
          Apparently, 3.0.25 broke smb4k badly ;-)
          smb4k uses 'net rap server domain' to list servers in domain.
          Previously we just ignored all arguments in net_rap_server() but now we don't
          as 'net rap server name' has added an explicit check on arguments.
          
          Allow 'net rap server domain' to aid smb4k. Any other arguments will cause help message.
          
    ------------------------------------------------------------
    revno: 5275.1.636
    merged: jra@samba.org-20070516230100-erd62i1rmx656wwy
    parent: jpeach@samba.org-20070516230055-8humw5rjvyill9pg
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-16 18:01:00 -0500
    message:
      jra@samba.org (r22956)  2007-05-16 17:52:17 -0500 (Wed, 16 May 2007)
          
          Fix security=server (bug #4622). Volker's patch
          (slightly truncated by me). Will be in 3.0.25a.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.635
    merged: jpeach@samba.org-20070516230055-8humw5rjvyill9pg
    parent: vlendec@samba.org-20070516210037-0w6kqt3c5qrnsbwc
    committer: jpeach@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-16 18:00:55 -0500
    message:
      jpeach@samba.org (r22955)  2007-05-16 17:34:58 -0500 (Wed, 16 May 2007)
          
          Disable dependency tracking by default.
          
    ------------------------------------------------------------
    revno: 5275.1.634
    merged: vlendec@samba.org-20070516210037-0w6kqt3c5qrnsbwc
    parent: vlendec@samba.org-20070516200011-6p18ddz6966wg4of
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-16 16:00:37 -0500
    message:
      vlendec@samba.org (r22954)  2007-05-16 15:56:39 -0500 (Wed, 16 May 2007)
          
          More messaging_register
          
    ------------------------------------------------------------
    revno: 5275.1.633
    merged: vlendec@samba.org-20070516200011-6p18ddz6966wg4of
    parent: jra@samba.org-20070516173032-ko29e0alrmqw2dhc
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-16 15:00:11 -0500
    message:
      vlendec@samba.org (r22953)  2007-05-16 15:02:32 -0500 (Wed, 16 May 2007)
          
          Well, this apparently has never been tested. But *this* code never saw a
          release yet .... ;-))
          
    ------------------------------------------------------------
    revno: 5275.1.632
    merged: jra@samba.org-20070516173032-ko29e0alrmqw2dhc
    parent: vlendec@samba.org-20070516150043-pt818oz0cq97rdsy
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-16 12:30:32 -0500
    message:
      jra@samba.org (r22950)  2007-05-16 12:17:25 -0500 (Wed, 16 May 2007)
          
          Fix the issue Volker reported here :
          
          "Attempt to fix some build farm failures: On port 139 the first
          successful packet gives len==0 from the server, so the = in
          
          if (len <= 0) {
          
          in line 136 of clientgen.c throws a failure."
          
          The irritating thing is that I already had it correct in
          SAMBA_3_0_26 and forgot to merge the change across.
          
          len == 0 is a valid return - I messed that up when
          converting client_receive_smb() to return a length
          rather than a BOOL.
          
          Doh !
          
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.631
    merged: vlendec@samba.org-20070516150043-pt818oz0cq97rdsy
    parent: vlendec@samba.org-20070516143032-i70r7s0wvhz8ispg
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-16 10:00:43 -0500
    message:
      vlendec@samba.org (r22943)  2007-05-16 09:45:09 -0500 (Wed, 16 May 2007)
          
          More message_register -> messaging_register
          
    ------------------------------------------------------------
    revno: 5275.1.630
    merged: vlendec@samba.org-20070516143032-i70r7s0wvhz8ispg
    parent: vlendec@samba.org-20070516130048-j52rhjckiptc1vvb
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-16 09:30:32 -0500
    message:
      vlendec@samba.org (r22942)  2007-05-16 09:24:06 -0500 (Wed, 16 May 2007)
          
          Some message_register -> messaging_register conversions
          
    ------------------------------------------------------------
    revno: 5275.1.629
    merged: vlendec@samba.org-20070516130048-j52rhjckiptc1vvb
    parent: obnox@samba.org-20070516120033-hxpl10su4pektobm
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-16 08:00:48 -0500
    message:
      vlendec@samba.org (r22934)  2007-05-16 08:02:53 -0500 (Wed, 16 May 2007)
          
          Change smbcontrol to use messaging_register instead of message_register
          
    ------------------------------------------------------------
    revno: 5275.1.628
    merged: obnox@samba.org-20070516120033-hxpl10su4pektobm
    parent: obnox@samba.org-20070516113054-9g5kuqx2hokyow1y
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-16 07:00:33 -0500
    message:
      obnox@samba.org (r22932)  2007-05-16 06:57:37 -0500 (Wed, 16 May 2007)
          
          Use the same symbol in sizeof and cast for talloc.
          
          
    ------------------------------------------------------------
    revno: 5275.1.627
    merged: obnox@samba.org-20070516113054-9g5kuqx2hokyow1y
    parent: vlendec@samba.org-20070516110012-thpua2qouniyehlx
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-16 06:30:54 -0500
    message:
      obnox@samba.org (r22931)  2007-05-16 06:15:16 -0500 (Wed, 16 May 2007)
          
          Fix logic in detection of the need to replace dlopen and friends.
          Originally, dlfcn.o was only added to LIBREPLACEOBJ if dlopen
          was found in libdl but header dlfcn.h was not appropriate.
          
          Michael
          
          
    ------------------------------------------------------------
    revno: 5275.1.626
    merged: vlendec@samba.org-20070516110012-thpua2qouniyehlx
    parent: vlendec@samba.org-20070516100036-03mftnpdqunot1e7
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-16 06:00:12 -0500
    message:
      vlendec@samba.org (r22930)  2007-05-16 05:59:04 -0500 (Wed, 16 May 2007)
          
          Next attempt to get the build farm in line.
          
          Jeremy, please check this and merge if appropriate.
          
    ------------------------------------------------------------
    revno: 5275.1.625
    merged: vlendec@samba.org-20070516100036-03mftnpdqunot1e7
    parent: gd@samba.org-20070516100031-mdtw6m4ji3ie4wm8
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-16 05:00:36 -0500
    message:
      vlendec@samba.org (r22929)  2007-05-16 04:53:41 -0500 (Wed, 16 May 2007)
          
          Attempt to fix some build farm failures: On port 139 the first
          successful packet gives len==0 from the server, so the = in 
          
          if (len <= 0) {
          
          in line 136 of clientgen.c throws a failure.
          
          Jeremy, please fix this properly, I'm not merging this to 3_0_26 so that
          you can filter it when you merge.
          
          Volker
          
          
    ------------------------------------------------------------
    revno: 5275.1.624
    merged: gd@samba.org-20070516100031-mdtw6m4ji3ie4wm8
    parent: jra@samba.org-20070516020047-c2o9tq3bk5mcolc8
    committer: gd@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Wed 2007-05-16 05:00:31 -0500
    message:
      gd@samba.org (r22928)  2007-05-16 04:42:29 -0500 (Wed, 16 May 2007)
          
          Use better success error code.
          
          Guenther
          
    ------------------------------------------------------------
    revno: 5275.1.623
    merged: jra@samba.org-20070516020047-c2o9tq3bk5mcolc8
    parent: jra@samba.org-20070516020042-v5lw2y4o364rt47g
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 21:00:47 -0500
    message:
      jra@samba.org (r22926)  2007-05-15 20:49:33 -0500 (Tue, 15 May 2007)
          
          Don't use <=0, use < 0 to allow keepalives to propagate up.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.622
    merged: jra@samba.org-20070516020042-v5lw2y4o364rt47g
    parent: jra@samba.org-20070516020037-lfe5z41zl8yx9mz0
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 21:00:42 -0500
    message:
      jra@samba.org (r22925)  2007-05-15 20:36:23 -0500 (Tue, 15 May 2007)
          
          Sync read_and_X with 3.0.26 code (use setup_readX_header()).
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.621
    merged: jra@samba.org-20070516020037-lfe5z41zl8yx9mz0
    parent: jra@samba.org-20070516013032-9wtgk3ott1f10ba0
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 21:00:37 -0500
    message:
      jra@samba.org (r22924)  2007-05-15 20:34:22 -0500 (Tue, 15 May 2007)
          
          Fix the build by correctly processing readX
          errors in the direct read case.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.620
    merged: jra@samba.org-20070516013032-9wtgk3ott1f10ba0
    parent: jra@samba.org-20070516003047-k4i2wgdq3clp18yd
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 20:30:32 -0500
    message:
      jra@samba.org (r22923)  2007-05-15 20:13:25 -0500 (Tue, 15 May 2007)
          
          Fix runaway smbd now receive_smb_raw() returns a ssize_t not a BOOL.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.619
    merged: jra@samba.org-20070516003047-k4i2wgdq3clp18yd
    parent: jra@samba.org-20070516003041-264vqoveyiilsz9m
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 19:30:47 -0500
    message:
      jra@samba.org (r22922)  2007-05-15 19:21:12 -0500 (Tue, 15 May 2007)
          
          Move "normal_read:" label out of ifdef guard. Fix the build.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.618
    merged: jra@samba.org-20070516003041-264vqoveyiilsz9m
    parent: obnox@samba.org-20070515233012-ftz7v1xgze7pe8cd
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 19:30:41 -0500
    message:
      jra@samba.org (r22920)  2007-05-15 19:07:38 -0500 (Tue, 15 May 2007)
          
          Add in the UNIX capability for 24-bit readX, as discussed
          with the Apple guys and Linux kernel guys. Still looking
          at how to do writeX as there's no recvfile().
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.617
    merged: obnox@samba.org-20070515233012-ftz7v1xgze7pe8cd
    parent: obnox@samba.org-20070515220012-3xbj2oelxo8o0n9l
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 18:30:12 -0500
    message:
      obnox@samba.org (r22919)  2007-05-15 18:05:34 -0500 (Tue, 15 May 2007)
          
          Fix build on Tru64.
          
          
    ------------------------------------------------------------
    revno: 5275.1.616
    merged: obnox@samba.org-20070515220012-3xbj2oelxo8o0n9l
    parent: derrell@samba.org-20070515193102-0egb6bn2bsufvrw4
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 17:00:12 -0500
    message:
      obnox@samba.org (r22918)  2007-05-15 16:41:02 -0500 (Tue, 15 May 2007)
          
          Attempt to fix the build of the tru64acl module.
          Where the heck did that smb_acl_permset_t come from?
          I can't remember...
          
          Michael
          
          
    ------------------------------------------------------------
    revno: 5275.1.615
    merged: derrell@samba.org-20070515193102-0egb6bn2bsufvrw4
    parent: vlendec@samba.org-20070515160044-siqnulzq4i1rwbm1
    committer: derrell@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 14:31:02 -0500
    message:
      derrell@samba.org (r22914)  2007-05-15 14:10:29 -0500 (Tue, 15 May 2007)
          
          
          attempts to set attributes to fail.
          
          - I also noticed that missing attributes were setting an invalid return string
          by getxattr(), e.g. if there was not group, the return string had "GROUP:;"
          instead of excluding the GROUP attribute entirely as it should.  The big
          problem with the way it was, is that the string could not then be passed to
          setxattr() and parsed.
          
    ------------------------------------------------------------
    revno: 5275.1.614
    merged: vlendec@samba.org-20070515160044-siqnulzq4i1rwbm1
    parent: vlendec@samba.org-20070515160038-anz81nm4hl13ib66
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 11:00:44 -0500
    message:
      vlendec@samba.org (r22911)  2007-05-15 10:49:55 -0500 (Tue, 15 May 2007)
          
          Pass a messaging_context to message_send_all
          
    ------------------------------------------------------------
    revno: 5275.1.613
    merged: vlendec@samba.org-20070515160038-anz81nm4hl13ib66
    parent: vlendec@samba.org-20070515153047-63m8hf122dd3fkuq
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 11:00:38 -0500
    message:
      vlendec@samba.org (r22910)  2007-05-15 10:41:37 -0500 (Tue, 15 May 2007)
          
          Make message_send_pid static to messages.c
          
    ------------------------------------------------------------
    revno: 5275.1.612
    merged: vlendec@samba.org-20070515153047-63m8hf122dd3fkuq
    parent: vlendec@samba.org-20070515150039-067y7zc8ooqagkpo
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 10:30:47 -0500
    message:
      vlendec@samba.org (r22908)  2007-05-15 10:14:32 -0500 (Tue, 15 May 2007)
          
          All callers of message_init now also call messaging_init. Unify those.
          
    ------------------------------------------------------------
    revno: 5275.1.611
    merged: vlendec@samba.org-20070515150039-067y7zc8ooqagkpo
    parent: vlendec@samba.org-20070515150034-ugdoo3a3bwhf107i
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 10:00:39 -0500
    message:
      vlendec@samba.org (r22907)  2007-05-15 09:58:01 -0500 (Tue, 15 May 2007)
          
          Fix the build with --enable-profiling-data
          
    ------------------------------------------------------------
    revno: 5275.1.610
    merged: vlendec@samba.org-20070515150034-ugdoo3a3bwhf107i
    parent: vlendec@samba.org-20070515140135-rpbxfo8bhjhpuf5v
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 10:00:34 -0500
    message:
      vlendec@samba.org (r22906)  2007-05-15 09:39:18 -0500 (Tue, 15 May 2007)
          
          Some more message_send_pid
          
    ------------------------------------------------------------
    revno: 5275.1.609
    merged: vlendec@samba.org-20070515140135-rpbxfo8bhjhpuf5v
    parent: gd@samba.org-20070515140130-s8ay0b7ely9vdqkh
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 09:01:35 -0500
    message:
      vlendec@samba.org (r22905)  2007-05-15 08:56:00 -0500 (Tue, 15 May 2007)
          
          cli_send_mailslot had a message_send_pid inside
          
    ------------------------------------------------------------
    revno: 5275.1.608
    merged: gd@samba.org-20070515140130-s8ay0b7ely9vdqkh
    parent: gd@samba.org-20070515140125-oszfmfia4wym02ag
    committer: gd@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 09:01:30 -0500
    message:
      gd@samba.org (r22904)  2007-05-15 08:47:25 -0500 (Tue, 15 May 2007)
          
          Fix indent.
          
          Guenther
          
    ------------------------------------------------------------
    revno: 5275.1.607
    merged: gd@samba.org-20070515140125-oszfmfia4wym02ag
    parent: vlendec@samba.org-20070515140120-d7kdnd83zuwqzzeq
    committer: gd@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 09:01:25 -0500
    message:
      gd@samba.org (r22903)  2007-05-15 08:46:26 -0500 (Tue, 15 May 2007)
          
          Now that we have the on-disc trustdomaincache with type flags we can better
          decide whether it's worth to register a krb5 ticket gain handler while users
          logon offline.
          
          Guenther
          
    ------------------------------------------------------------
    revno: 5275.1.606
    merged: vlendec@samba.org-20070515140120-d7kdnd83zuwqzzeq
    parent: gd@samba.org-20070515140115-eph5pfgg4je7xwkf
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 09:01:20 -0500
    message:
      vlendec@samba.org (r22902)  2007-05-15 08:44:11 -0500 (Tue, 15 May 2007)
          
          Add an event_context and a messaging_context to nmbd. Not used yet.
          
    ------------------------------------------------------------
    revno: 5275.1.605
    merged: gd@samba.org-20070515140115-eph5pfgg4je7xwkf
    parent: vlendec@samba.org-20070515121557-cngt14m5v3toeos1
    committer: gd@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 09:01:15 -0500
    message:
      gd@samba.org (r22901)  2007-05-15 08:42:53 -0500 (Tue, 15 May 2007)
          
          When an AD account has UF_DONT_REQUIRE_PREAUTH set we need to fallback to ntlm
          in the kerberized PAM_AUTH.
          
          Guenther
          
    ------------------------------------------------------------
    revno: 5275.1.604
    merged: vlendec@samba.org-20070515121557-cngt14m5v3toeos1
    parent: vlendec@samba.org-20070515110047-ysdq9j31hyf1fu95
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 07:15:57 -0500
    message:
      vlendec@samba.org (r22900)  2007-05-15 07:18:17 -0500 (Tue, 15 May 2007)
          
          Convert profile/ to messaging_send_pid/messaging_register
          
    ------------------------------------------------------------
    revno: 5275.1.603
    merged: vlendec@samba.org-20070515110047-ysdq9j31hyf1fu95
    parent: obnox@samba.org-20070515110041-c6v7yhpn2q9gpqo1
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 06:00:47 -0500
    message:
      vlendec@samba.org (r22895)  2007-05-15 05:50:44 -0500 (Tue, 15 May 2007)
          
          Convert some more calls from message_send_buf to messaging_send_buf
          
    ------------------------------------------------------------
    revno: 5275.1.602
    merged: obnox@samba.org-20070515110041-c6v7yhpn2q9gpqo1
    parent: jpeach@samba.org-20070515060032-b8sm5k31swywe7e6
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 06:00:41 -0500
    message:
      obnox@samba.org (r22893)  2007-05-15 05:47:40 -0500 (Tue, 15 May 2007)
          
          Use ldap_rename_s instead of deprecated ldap_rename2_s.
          This fixes the build on solaris (host sun9). 
          And hopefully doesn't break any other builds... :-)
          If it does, we need some configure magic.
          
          Thanks to Bj?\195?\182rn Jacke <bj@sernet.de>.
          
          
    ------------------------------------------------------------
    revno: 5275.1.601
    merged: jpeach@samba.org-20070515060032-b8sm5k31swywe7e6
    parent: jpeach@samba.org-20070515050013-lum8af9rz1hbvs9d
    committer: jpeach@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 01:00:32 -0500
    message:
      jpeach@samba.org (r22879)  2007-05-15 00:25:10 -0500 (Tue, 15 May 2007)
          
          Tidy the build rules for targets that need the installation paths.
          
    ------------------------------------------------------------
    revno: 5275.1.600
    merged: jpeach@samba.org-20070515050013-lum8af9rz1hbvs9d
    parent: jra@samba.org-20070515000033-ie9inbz98ama62mo
    committer: jpeach@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Tue 2007-05-15 00:00:13 -0500
    message:
      jpeach@samba.org (r22878)  2007-05-14 23:28:20 -0500 (Mon, 14 May 2007)
          
          
    ------------------------------------------------------------
    revno: 5275.1.599
    merged: jra@samba.org-20070515000033-ie9inbz98ama62mo
    parent: lmuelle@samba.org-20070514220107-a99qqvjv1dzgv4ep
    committer: jra@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-14 19:00:33 -0500
    message:
      jra@samba.org (r22872)  2007-05-14 18:55:11 -0500 (Mon, 14 May 2007)
          
          Add vfs_zfsacl module from Jiri Sasek <Jiri.Sasek@Sun.COM>.
          Jeremy.
          
    ------------------------------------------------------------
    revno: 5275.1.598
    merged: lmuelle@samba.org-20070514220107-a99qqvjv1dzgv4ep
    parent: lmuelle@samba.org-20070514220102-gya24y6phsw4pl4e
    committer: lmuelle@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-14 17:01:07 -0500
    message:
      lmuelle@samba.org (r22870)  2007-05-14 16:58:23 -0500 (Mon, 14 May 2007)
          
          Don't create shared objects of nss and tdb modules.
          
    ------------------------------------------------------------
    revno: 5275.1.597
    merged: lmuelle@samba.org-20070514220102-gya24y6phsw4pl4e
    parent: vlendec@samba.org-20070514204241-999jjrbyksjw88an
    committer: lmuelle@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-14 17:01:02 -0500
    message:
      lmuelle@samba.org (r22869)  2007-05-14 16:22:14 -0500 (Mon, 14 May 2007)
          
          
          Not tested for SAMBA_3_0 as I didn't get autogen.sh or autoreconf to
          build a configure.
          
    ------------------------------------------------------------
    revno: 5275.1.596
    merged: vlendec@samba.org-20070514204241-999jjrbyksjw88an
    parent: ab@samba.org-20070514200055-o1wvcfbw5uof6mam
    committer: vlendec@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-14 15:42:41 -0500
    message:
      vlendec@samba.org (r22868)  2007-05-14 15:31:28 -0500 (Mon, 14 May 2007)
          
          Replace some message_send_pid calls with messaging_send_pid calls. More
          tomorrow.
          
    ------------------------------------------------------------
    revno: 5275.1.595
    merged: ab@samba.org-20070514200055-o1wvcfbw5uof6mam
    parent: obnox@samba.org-20070514150016-pe7g779gawl4bn2j
    committer: ab@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-14 15:00:55 -0500
    message:
      ab@samba.org (r22867)  2007-05-14 14:26:22 -0500 (Mon, 14 May 2007)
          
          With Samba4's IDL, we now have two new flags for share types: STYPE_TEMPORARY and STYPE_HIDDEN
          Strip them out when referencing share_type[] entries.
          
          Apparently, some Windows XP installs create shares set to STYPE_HIDDEN by default, found by
          Damir Shayhutdinov <damir@altlinux.org>. This also fixes smb4k crashes as it does call 'net share -l'.
          
    ------------------------------------------------------------
    revno: 5275.1.594
    merged: obnox@samba.org-20070514150016-pe7g779gawl4bn2j
    parent: jerry@samba.org-20070514142437-ohv6wdopzya3g1br
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-14 10:00:16 -0500
    message:
      obnox@samba.org (r22855)  2007-05-14 09:53:45 -0500 (Mon, 14 May 2007)
          
          fix the build 
          (#if inside DEBUG macro not allowed...)
          
          Michael
          
          
    ------------------------------------------------------------
    revno: 5275.1.593
    merged: jerry@samba.org-20070514142437-ohv6wdopzya3g1br
    parent: derrell@samba.org-20070514142432-qxaf5meg3xpcvh6a
    committer: jerry@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-14 09:24:37 -0500
    message:
      jerry@samba.org (r22852)  2007-05-14 09:23:51 -0500 (Mon, 14 May 2007)
          
          merge fixes for CVE-2007-2446 and CVE-2007-2447 to all branches
    ------------------------------------------------------------
    revno: 5275.1.592
    merged: derrell@samba.org-20070514142432-qxaf5meg3xpcvh6a
    parent: obnox@samba.org-20070514140017-2j4wlpnjqaw3xr1a
    committer: derrell@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-14 09:24:32 -0500
    message:
      derrell@samba.org (r22850)  2007-05-14 09:19:30 -0500 (Mon, 14 May 2007)
          
          
          - Fixes bug 4601.  smbc_getxattr() would not, in one case, properly return the
          required size of a buffer needed to contain the extended attributes.
          
    ------------------------------------------------------------
    revno: 5275.1.591
    merged: obnox@samba.org-20070514140017-2j4wlpnjqaw3xr1a
    parent: obnox@samba.org-20070514140012-bqaghkkaswu7dtb6
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-14 09:00:17 -0500
    message:
      obnox@samba.org (r22848)  2007-05-14 08:36:14 -0500 (Mon, 14 May 2007)
          
          Fix brace alignment.
          
          
    ------------------------------------------------------------
    revno: 5275.1.590
    merged: obnox@samba.org-20070514140012-bqaghkkaswu7dtb6
    parent: vlendec@samba.org-20070514125836-k03au5323pfc44cc
    committer: obnox@samba.org
    branch nick: SAMBA_3_0.bzr
    timestamp: Mon 2007-05-14 09:00:12 -0500
    message:
      obnox@samba.org (r22847)  2007-05-14 08:31:42 -0500 (Mon, 14 May 2007)
          
          The new validate_panic function calls exit (instead of setting
          a global error flag an returning), so cleanups and returns 
          subsequent to calls of smb_panic_fn have become unnecessary.
          
          

Diff too large for email (19816 lines, the limit is 1000).

