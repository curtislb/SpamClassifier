From perl6-all-return-80811-ktwarwic=speedy.uwaterloo.ca@perl.org  Mon Apr 23 12:52:24 2007
Return-Path: <perl6-all-return-80811-ktwarwic=speedy.uwaterloo.ca@perl.org>
Received: from lists.develooper.com (x6.develooper.com [63.251.223.186])
	by speedy.uwaterloo.ca (8.12.8/8.12.5) with SMTP id l3NGqM0I003839
	for <ktwarwic@speedy.uwaterloo.ca>; Mon, 23 Apr 2007 12:52:23 -0400
Received: (qmail 16784 invoked by uid 514); 23 Apr 2007 16:51:56 -0000
Mailing-List: contact perl6-all-help@perl.org; run by ezmlm
Precedence: bulk
List-Post: <mailto:perl6-all@perl.org>
List-Help: <mailto:perl6-all-help@perl.org>
List-Unsubscribe: <mailto:perl6-all-unsubscribe@perl.org>
List-Subscribe: <mailto:perl6-all-subscribe@perl.org>
List-Id: <perl6-all.perl.org>
Delivered-To: mailing list perl6-all@perl.org
Received: (qmail 16779 invoked from network); 23 Apr 2007 16:51:56 -0000
Delivered-To: perl6-all-poster@perl.org
X-Spam-Status: No, hits=-2.6 required=8.0
	tests=BAYES_00,DK_POLICY_SIGNSOME
X-Spam-Check-By: la.mx.develooper.com
Received-SPF: pass (x1.develooper.com: local policy)
X-Mailing-List: contact perl6-internals-help@perl.org; run by ezmlm
X-Mailing-List-Name: perl6-internals
List-Id: <perl6-internals.perl.org>
Delivered-To: mailing list perl6-internals@perl.org
Delivered-To: perl6-internals@perl.org
Received-SPF: pass (x1.develooper.com: local policy)
From: Jerry Gay (via RT) <parrotbug-followup@parrotcode.org>
X-RT-NewTicket: yes
To: bugs-bitbucket@netlabs.develooper.com
Resent-To: perl6-internals@perl.org
Mail-Followup-To: perl6-internals@perl.org
Reply-To: perl6-internals@perl.org
Date: Mon, 23 Apr 2007 09:51:29 -0700
Subject: [perl #42690] [TODO] optionally run configure/build tests during config process 
In-Reply-To: <1d9a3f400704230951k63169f0ai90450bbe0af0ef9c@mail.gmail.com>
References: <RT-Ticket-42690@perl.org> <1d9a3f400704230951k63169f0ai90450bbe0af0ef9c@mail.gmail.com>
Message-ID: <rt-3.6.HEAD-30557-1177347089-674.42690-72-0@perl.org>
X-RT-Loop-Prevention: perl
RT-Ticket: perl #42690
Managed-by: RT 3.6.HEAD (http://www.bestpractical.com/rt/)
RT-Originator: jerry.gay@gmail.com
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: 8bit
X-RT-Original-Encoding: utf-8
Resent-Message-Id: <20070423165129.8EAD12AFD6@x3.develooper.com>
Resent-Date: Mon, 23 Apr 2007 09:51:29 -0700 (PDT)
Resent-From: rt-jerry.gay=gmail.com@netlabs.develooper.com
X-Old-Spam-Check-By: la.mx.develooper.com
X-Old-Spam-Status: No, hits=-4.4 required=8.0
	tests=ALL_TRUSTED,BAYES_00,DK_POLICY_SIGNSOME
Status: O
Content-Length: 1121
Lines: 25

# New Ticket Created by  Jerry Gay 
# Please include the string:  [perl #42690]
# in the subject line of all future correspondence about this issue. 
# <URL: http://rt.perl.org/rt3/Ticket/Display.html?id=42690 >


our configure and build systems have greatly improved test coverage,
thanks in large part to jim keenan. however, these tests are not run
during the normal build cycle, which limits their effectiveness. i'd
like to make running these tests easier by allowing Configure.pl to
accept command-line options which allow a user to run the tests.

therefore, i propose a --test option, that works as follows:
  --test=configure     # runs the configure tests before configure
  --test=build         # runs the build tests after configure
  --test               # runs all (both) tests

this would simplify the build cycle when running these tests from:
  prove t/configure && perl Configure.pl && make buildtools_tests world test
to:
  perl Configure.pl --test && make world test

this does not address the fact that config/build tests do not appear
in smoke results, but i'll save that for another ticket.
~jerry

