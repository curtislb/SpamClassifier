From r-help-bounces@stat.math.ethz.ch  Wed Apr 11 17:46:56 2007
Return-Path: <r-help-bounces@stat.math.ethz.ch>
Received: from hypatia.math.ethz.ch (hypatia.math.ethz.ch [129.132.145.15])
	by speedy.uwaterloo.ca (8.12.8/8.12.5) with ESMTP id l3BLks0I022162
	for <ktwarwic@speedy.uwaterloo.ca>; Wed, 11 Apr 2007 17:46:55 -0400
Received: from hypatia.math.ethz.ch (hypatia [129.132.145.15])
	by hypatia.math.ethz.ch (8.13.6/8.13.6) with ESMTP id l3BLjL2S016930;
	Wed, 11 Apr 2007 23:45:41 +0200
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on hypatia.math.ethz.ch
X-Spam-Level: 
X-Spam-Status: No, score=0.0 required=5.0 tests=AWL, BAYES_50,
	FORGED_RCVD_HELO autolearn=no version=3.1.8
Received: from dshsmxoly1504x.dshs.wa.gov (dshsmxoly1504x.dshs.wa.gov
	[147.56.163.40])
	by hypatia.math.ethz.ch (8.13.6/8.13.6) with ESMTP id l3BLYWQG013305
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <r-help@stat.math.ethz.ch>; Wed, 11 Apr 2007 23:34:33 +0200
X-WSS-ID: 0JGCRZG-03-DGP-01
Received: from dshsmxoly1504w1.dshs.wa.gov (dshsmxoly1504w1.dshs.wa.lcl
	[147.56.163.39])
	by dshsmxoly1504x.dshs.wa.gov (Tumbleweed MailGate) with ESMTP id
	7A074D2E3BF; Wed, 11 Apr 2007 14:35:40 -0700 (PDT)
Received: from [147.56.163.29] by dshsmxoly1504w1.dshs.wa.gov with ESMTP
	(SMTP Relay (Email Firewall v6.3.1)); Wed, 11 Apr 2007 14:34:17 -0700
X-Server-Uuid: 7DF95734-8263-4399-9709-24D32820BD16
Received: from dshsmxoly1504g.dshs.wa.lcl ([147.56.163.16]) by
	dshsmxoly1504t.dshs.wa.lcl with Microsoft SMTPSVC(6.0.3790.1830); Wed,
	11 Apr 2007 14:34:17 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 11 Apr 2007 14:34:17 -0700
Message-ID: <941871A13165C2418EC144ACB212BDB0078D8E@dshsmxoly1504g.dshs.wa.lcl>
In-Reply-To: <179529.15593.qm@web32807.mail.mud.yahoo.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [R] sas.get problem
Thread-Index: Acd8aLt3zlwvPG53T6qsxfeQ9TKU3QAFBxUg
References: <OF0E53A08C.627DC53E-ON882572BA.005EB576-882572BA.005F2522@irvine.edwards.com>
	<179529.15593.qm@web32807.mail.mud.yahoo.com>
From: "Nordlund, Dan (DSHS/RDA)" <NordlDJ@dshs.wa.gov>
To: "John Kane" <jrkrideau@yahoo.ca>
X-OriginalArrivalTime: 11 Apr 2007 21:34:17.0825 (UTC)
	FILETIME=[28AAB510:01C77C81]
X-TMWD-Spam-Summary: TS=20070411213421; SEV=2.2.2; DFV=B2007041109;
	IFV=2.0.4,4.0-9; AIF=B2007041109; RPD=5.02.0125; ENG=IBF;
	RPDID=7374723D303030312E30413031303230372E34363144353435412E303043422C73733D312C6667733D30;
	CAT=NONE; CON=NONE
X-WSS-ID: 6A038BD325G1999013-01-01
X-Virus-Scanned: by amavisd-new at stat.math.ethz.ch
X-MIME-Autoconverted: from quoted-printable to 8bit by hypatia.math.ethz.ch id
	l3BLYWQG013305
Cc: R R-help <r-help@stat.math.ethz.ch>
Subject: Re: [R] sas.get problem
X-BeenThere: r-help@stat.math.ethz.ch
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: "Main R Mailing List: Primary help" <r-help.stat.math.ethz.ch>
List-Unsubscribe: <https://stat.ethz.ch/mailman/listinfo/r-help>,
	<mailto:r-help-request@stat.math.ethz.ch?subject=unsubscribe>
List-Archive: <https://stat.ethz.ch/pipermail/r-help>
List-Post: <mailto:r-help@stat.math.ethz.ch>
List-Help: <mailto:r-help-request@stat.math.ethz.ch?subject=help>
List-Subscribe: <https://stat.ethz.ch/mailman/listinfo/r-help>,
	<mailto:r-help-request@stat.math.ethz.ch?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: r-help-bounces@stat.math.ethz.ch
Errors-To: r-help-bounces@stat.math.ethz.ch
Status: O
Content-Length: 2622
Lines: 78

> -----Original Message-----
> From: r-help-bounces@stat.math.ethz.ch 
> [mailto:r-help-bounces@stat.math.ethz.ch] On Behalf Of John Kane
> Sent: Wednesday, April 11, 2007 11:30 AM
> To: Cody_Hamilton@edwards.com
> Cc: R R-help
> Subject: Re: [R] sas.get problem
> 
> 
<<<snip>>>
> 
> Current state of play:
> Files : SAS 9.x
> 
> formea1.sas7bdat
> formea2.sas7bdat
> formats.sas7bcat
> 
> I notice that the formats.sas7bcat is drastically
> different from the sas.bdat
> icons.
> 
> We seem to  be making some progress even if the data
> file still has not loaded.
> 
> In the ammended sas.get condition I get an error
> object ".R." not found.
> I hope this is not an Hmisc object.
> 
> Thanks
> 
> 
> Run with Hmisc
> 
> mydata <- sas.get(library="F:/sas", mem="formea1",
>              format.library="F:/sas",
>   sasprog = '"C:Program Files/SAS/SAS 9.1/sas.exe"')
>            
> Error in sas.get(library = "F:/sas", mem = "formea1",
> format.library = "F:/sas",  :
>         SAS job failed with status -1
> In addition: Warning message:
> "\"C:Program not found
> 

The warning here is due to wrapping the sasprog argument in single and double quotes.  Sometimes you need to do this in R when trying to run a command using system() under Windows.  However, sas.get() uses the function shQuote() to wrap Windows system calls in double quotes and escapes any internal double quotes with "\".  You can see the escape character in the warning message above.  If you remove the single quotes the warning should disappear.  

> 
> Run with modified sas.get (Hmisc not loaded)
> 
> Error in sas.get(library = "F:/sas", mem = "formea1",
> format.library = "F:/sas",  :
>         object ".R." not found
> 

Actually, you should load Hmisc using library(Hmisc) and then source in your corrected sas.get() function.  Then execute the following call

mydata <- sas.get(library="F:/sas", mem="formea1",
              format.library="F:/sas",
   sasprog = "C:/Program Files/SAS/SAS 9.1/sas.exe") #no single quotes

This assuming that your sas dataset and formats.sas7bcat are in F:\SAS and the SAS executable is in the specified directory on the c: drive of the machine you are running this on.

Hope this is helpful,

Dan


Daniel J. Nordlund
Research and Data Analysis
Washington State Department of Social and Health Services
Olympia, WA  98504-5204

______________________________________________
R-help@stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

