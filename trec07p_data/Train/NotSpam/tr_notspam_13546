From bounce-debian-mirrors=ktwarwic=speedy.uwaterloo.ca@lists.debian.org  Fri May 25 16:54:43 2007
Return-Path: <bounce-debian-mirrors=ktwarwic=speedy.uwaterloo.ca@lists.debian.org>
Received: from murphy.debian.org (murphy.debian.org [70.103.162.31])
	by flax9.uwaterloo.ca (8.12.8/8.12.5) with ESMTP id l4PKshqD032500
	for <ktwarwic@speedy.uwaterloo.ca>; Fri, 25 May 2007 16:54:43 -0400
Received: from localhost (localhost [127.0.0.1])
	by murphy.debian.org (Postfix) with QMQP
	id 951B12E703; Fri, 25 May 2007 20:54:12 +0000 (UTC)
Old-Return-Path: <ac3bf1@gmail.com>
X-Spam-Checker-Version: SpamAssassin 3.1.4 (2006-07-26) on murphy.debian.org
X-Spam-Level: 
X-Spam-Status: No, score=0.9 required=4.0 tests=AWL,BAYES_00,HTML_30_40,
	HTML_MESSAGE,IMPRONONCABLE_1,IMPRONONCABLE_2,SPF_PASS autolearn=no 
	version=3.1.4
X-Original-To: debian-mirrors@lists.debian.org
Received: from wx-out-0506.google.com (wx-out-0506.google.com [66.249.82.233])
	by murphy.debian.org (Postfix) with ESMTP id ABAF62E740
	for <debian-mirrors@lists.debian.org>; Fri, 25 May 2007 20:37:43 +0000 (UTC)
Received: by wx-out-0506.google.com with SMTP id h30so665527wxd
        for <debian-mirrors@lists.debian.org>; Fri, 25 May 2007 13:38:09 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=NMFcgDF4s7nEPTLqVYU4/lG5U0ztNqYWgJh2qpQbS8HHCVNBtIPhBbXA8igWwN1Z2XxhyicYT6OnS33chKxxlTCmWj53m3NL31iyenC8YLd3lFlFKtl0/6SV91VNIE4n9RlCtWuKOZo3kcKA+FMzJ6HLTgAuVEb5DJX9ZmW/BN8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=MedimiliUxhfbrkRlqNr116wrGK+PLZuwFvbHB5RkOoeYUAkpROIej4xLPAcFnNZFnEsHDQ9DZgqeN4x3l+Cl7SZNXvfAWWXUn9cyC1cfk8hPL+179bnXwvcl8Eu5MoZ0hFWqucGrGcTE9YaxwnMPbmE61e6XdZEQMStgJ7O/7c=
Received: by 10.90.118.8 with SMTP id q8mr2905259agc.1180125488389;
        Fri, 25 May 2007 13:38:08 -0700 (PDT)
Received: by 10.90.71.8 with HTTP; Fri, 25 May 2007 13:38:08 -0700 (PDT)
Message-ID: <cf3b996d0705251338v17c93a57ld3cce975e281290e@mail.gmail.com>
Date: Fri, 25 May 2007 21:38:08 +0100
From: "Jonathan (ac3bf1)" <ac3bf1@gmail.com>
To: SmartList <debian-mirrors@lists.debian.org>
Subject: Re: ..weeding out bad debs off mirrors, was: Can I get some help, please?
In-Reply-To: <18007.6473.431879.8283@fisica.ufpr.br>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_131291_22525093.1180125488350"
References: <33020.216.144.215.245.1179623902.squirrel@mail.cantonpl.org>
	 <20070520104357.GA13889@keid.carnet.hr>
	 <20070522012103.38accd52.arnt@c2i.net> <46527933.6020207@gmx.de>
	 <20070522145410.959b0655.arnt@c2i.net>
	 <18007.6473.431879.8283@fisica.ufpr.br>
X-Rc-Spam: 2007-05-24_01
X-Rc-Virus: 2006-10-25_01
X-Rc-Spam: 2007-05-24_01
Resent-Message-ID: <cHzG-.A.UPD.0z0VGB@murphy>
Resent-From: debian-mirrors@lists.debian.org
X-Mailing-List: <debian-mirrors@lists.debian.org> 
X-Loop: debian-mirrors@lists.debian.org
List-Id: <debian-mirrors.lists.debian.org>
List-Post: <mailto:debian-mirrors@lists.debian.org>
List-Help: <mailto:debian-mirrors-request@lists.debian.org?subject=help>
List-Subscribe: <mailto:debian-mirrors-request@lists.debian.org?subject=subscribe>
List-Unsubscribe: <mailto:debian-mirrors-request@lists.debian.org?subject=unsubscribe>
Precedence: list
Resent-Sender: debian-mirrors-request@lists.debian.org
Resent-Date: Fri, 25 May 2007 20:54:12 +0000 (UTC)

------=_Part_131291_22525093.1180125488350
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

any automation we can use to check the files though md5?
like a script maybe? anyone done something similar?

John



On 5/25/07, Carlos Carvalho <carlos@fisica.ufpr.br> wrote:
>
> Arnt Karlsen (arnt@c2i.net) wrote on 22 May 2007 14:54:
> >On Tue, 22 May 2007 07:01:39 +0200, Klaus wrote in message
> ><46527933.6020207@gmx.de>:
> >
> >> Arnt Karlsen wrote:
> >> > ..one thing I haven't found, is an easy way to weed out bad files off
> >> > my (big bad disk, replacement ordered) mirror after fsck's, my plan
> is
> >> > use md5sum down the debian/tree and weed out all the bad files,
> instead
> >> > of wasting another week re-downloading all the good stuff (right now
> >> > I have 71GB of i386 and source) to build a full mirror.  Pointers?
> >>
> >> Isn't that what debmirror does anyhow to verify the integrity of the
> mirror?
> >>
> >> At least I seem to remember that bad or missing files were fixed with
> the next remirror of my mirror.
> >>
> >> Cheers,
> >> Klaus
> >>
> >On Tue, 22 May 2007 08:25:38 +0100, Jonathan wrote in message
> ><cf3b996d0705220025lda0a341xa273204c1e16519c@mail.gmail.com>:
> >
> >> doesn't rsyncing take care fo this by itself updating the mirror?
> >>
> >> mirror.ac3bf1.org
> >> John
> >
> >..IME no (but I use the anonftpsync script), as long as the file names
> >matches, all files are accepted as good, I see no md5sum kinda check
> >done. I appreciate the "do not dump that load upstream", so I'm looking
> >for some kinda find *.md5sum* ->xarg md5sum-c -> rm -vf baaad.debs
> >oneliner or somesuch to verify my mirror update, pointers?
>
> rsync will check the integrity of existing files if used with option -c.
> However this puts a high load on the server so many of them disable
> its use. A debian mirror does not need to allow it.
>
> The default is to not use -c; in this case only the date and length
> are used to decide if a file should be updated.
>
> One can use the checksums in indices/md5sums.gz to verify the files
> locally. Very useful indeed... I do it periodically, because a mirror
> is a significant responsibility.
>
>
> --
> To UNSUBSCRIBE, email to debian-mirrors-REQUEST@lists.debian.org
> with a subject of "unsubscribe". Trouble? Contact
> listmaster@lists.debian.org
>
>


-- 
/******************
www.ac3bf1.org
mirror.ac3bf1.org
rcrack.ac3bf1.org
ninux.org - Wireless Community Rome
******************/

------=_Part_131291_22525093.1180125488350
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<div>any automation we can use to check the files though md5?</div>
<div>like a script maybe? anyone done something similar?</div>
<div>&nbsp;</div>
<div>John</div>
<div><br><br>&nbsp;</div>
<div><span class="gmail_quote">On 5/25/07, <b class="gmail_sendername">Carlos Carvalho</b> &lt;<a href="mailto:carlos@fisica.ufpr.br">carlos@fisica.ufpr.br</a>&gt; wrote:</span>
<blockquote class="gmail_quote" style="PADDING-LEFT: 1ex; MARGIN: 0px 0px 0px 0.8ex; BORDER-LEFT: #ccc 1px solid">Arnt Karlsen (<a href="mailto:arnt@c2i.net">arnt@c2i.net</a>) wrote on 22 May 2007 14:54:<br>&gt;On Tue, 22 May 2007 07:01:39 +0200, Klaus wrote in message
<br>&gt;&lt;<a href="mailto:46527933.6020207@gmx.de">46527933.6020207@gmx.de</a>&gt;:<br>&gt;<br>&gt;&gt; Arnt Karlsen wrote:<br>&gt;&gt; &gt; ..one thing I haven&#39;t found, is an easy way to weed out bad files off<br>&gt;&gt; &gt; my (big bad disk, replacement ordered) mirror after fsck&#39;s, my plan is
<br>&gt;&gt; &gt; use md5sum down the debian/tree and weed out all the bad files, instead<br>&gt;&gt; &gt; of wasting another week re-downloading all the good stuff (right now<br>&gt;&gt; &gt; I have 71GB of i386 and source) to build a full mirror.&nbsp;&nbsp;Pointers?
<br>&gt;&gt;<br>&gt;&gt; Isn&#39;t that what debmirror does anyhow to verify the integrity of the mirror?<br>&gt;&gt;<br>&gt;&gt; At least I seem to remember that bad or missing files were fixed with the next remirror of my mirror.
<br>&gt;&gt;<br>&gt;&gt; Cheers,<br>&gt;&gt; Klaus<br>&gt;&gt;<br>&gt;On Tue, 22 May 2007 08:25:38 +0100, Jonathan wrote in message<br>&gt;&lt;<a href="mailto:cf3b996d0705220025lda0a341xa273204c1e16519c@mail.gmail.com">cf3b996d0705220025lda0a341xa273204c1e16519c@mail.gmail.com
</a>&gt;:<br>&gt;<br>&gt;&gt; doesn&#39;t rsyncing take care fo this by itself updating the mirror?<br>&gt;&gt;<br>&gt;&gt; <a href="http://mirror.ac3bf1.org">mirror.ac3bf1.org</a><br>&gt;&gt; John<br>&gt;<br>&gt;..IME no (but I use the anonftpsync script), as long as the file names
<br>&gt;matches, all files are accepted as good, I see no md5sum kinda check<br>&gt;done. I appreciate the &quot;do not dump that load upstream&quot;, so I&#39;m looking<br>&gt;for some kinda find *.md5sum* -&gt;xarg md5sum-c -&gt; rm -vf 
baaad.debs<br>&gt;oneliner or somesuch to verify my mirror update, pointers?<br><br>rsync will check the integrity of existing files if used with option -c.<br>However this puts a high load on the server so many of them disable
<br>its use. A debian mirror does not need to allow it.<br><br>The default is to not use -c; in this case only the date and length<br>are used to decide if a file should be updated.<br><br>One can use the checksums in indices/md5sums.gz to verify the files
<br>locally. Very useful indeed... I do it periodically, because a mirror<br>is a significant responsibility.<br><br><br>--<br>To UNSUBSCRIBE, email to <a href="mailto:debian-mirrors-REQUEST@lists.debian.org">debian-mirrors-REQUEST@lists.debian.org
</a><br>with a subject of &quot;unsubscribe&quot;. Trouble? Contact <a href="mailto:listmaster@lists.debian.org">listmaster@lists.debian.org</a><br><br></blockquote></div><br><br clear="all"><br>-- <br>/******************
<br><a href="http://www.ac3bf1.org">www.ac3bf1.org</a><br><a href="http://mirror.ac3bf1.org">mirror.ac3bf1.org</a><br><a href="http://rcrack.ac3bf1.org">rcrack.ac3bf1.org</a><br><a href="http://ninux.org">ninux.org</a> - Wireless Community Rome
<br>******************/ 

------=_Part_131291_22525093.1180125488350--


-- 
To UNSUBSCRIBE, email to debian-mirrors-REQUEST@lists.debian.org
with a subject of "unsubscribe". Trouble? Contact listmaster@lists.debian.org

