From perl6-all-return-81464-ktwarwic=speedy.uwaterloo.ca@perl.org  Fri May 18 11:50:26 2007
Return-Path: <perl6-all-return-81464-ktwarwic=speedy.uwaterloo.ca@perl.org>
Received: from lists.develooper.com (x6.develooper.com [63.251.223.186])
	by flax9.uwaterloo.ca (8.12.8/8.12.5) with SMTP id l4IFoOqD015605
	for <ktwarwic@flax9.uwaterloo.ca>; Fri, 18 May 2007 11:50:25 -0400
Received: (qmail 16894 invoked by uid 514); 18 May 2007 15:50:20 -0000
Mailing-List: contact perl6-all-help@perl.org; run by ezmlm
Precedence: bulk
List-Post: <mailto:perl6-all@perl.org>
List-Help: <mailto:perl6-all-help@perl.org>
List-Unsubscribe: <mailto:perl6-all-unsubscribe@perl.org>
List-Subscribe: <mailto:perl6-all-subscribe@perl.org>
List-Id: <perl6-all.perl.org>
Delivered-To: mailing list perl6-all@perl.org
Received: (qmail 16889 invoked from network); 18 May 2007 15:50:19 -0000
Delivered-To: perl6-all-poster@perl.org
X-Spam-Status: No, hits=-1.3 required=8.0
	tests=ANY_BOUNCE_MESSAGE,BAYES_00,DKIM_SIGNED,DKIM_VERIFIED,DK_POLICY_SIGNSOME,DK_SIGNED,HTML_MESSAGE,NORMAL_HTTP_TO_IP,SPF_PASS,URIBL_RHS_DOB,VBOUNCE_MESSAGE
X-Spam-Check-By: la.mx.develooper.com
Received-SPF: pass (x1.develooper.com: local policy)
X-Mailing-List: contact perl6-internals-help@perl.org; run by ezmlm
X-Mailing-List-Name: perl6-internals
List-Id: <perl6-internals.perl.org>
Delivered-To: mailing list perl6-internals@perl.org
Delivered-To: perl6-internals@perl.org
Delivered-To: parrotbug-followup@parrotcode.org
Received-SPF: pass (x1.develooper.com: domain of parrotcode@gmail.com designates 64.233.184.231 as permitted sender)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=trzS9tm4CQRucDVbI51vjayfkF1b0yyp2qeJ7atFFn+3Ll4Kuf6zObFxq8NUDnUTnGEv1WdbJoJzRI553YUOUC0XmhXqxk5lMTDzM13u87QyTMCfqyblZyA6pTQeteLcIAmYfPEujioP7oc/9nLqRcwsa0bb48qgVAk+Kv/f1Wg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=m3mSUn4yvtq0RofrgY6f4oW8WUe+hgpvKCs5y0Fw2+rZ4KljECUs8Xlsx/RpwbWJYezUr/SpAaaUwrjE8zyaFKJ0Bq9RBoUZQOEo75EgPXAw+9Dcim5PpTytGZ3qW47a1f/8UtzuacKztr7ql4uSgxj1PiQ4e5LO6nOUWCcCNZc=
Message-ID: <7b0e52b40705180849m2e3536c8o6d1a05198119a15a@mail.gmail.com>
Date: Fri, 18 May 2007 23:49:20 +0800
From: "Klaas-Jan Stol" <parrotcode@gmail.com>
To: parrotbug-followup@parrotcode.org
Subject: Re: [perl #42992] AutoReply: [PATCH] comments and minor details for debug.c
In-Reply-To: <rt-3.6.HEAD-32415-1179502365-1888.42992-71-0@perl.org>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_61457_9023964.1179503360333"
References: <RT-Ticket-42992@perl.org>
	 <7b0e52b40705180831rba3e7c9r24377423a3a540bf@mail.gmail.com>
	 <rt-3.6.HEAD-32415-1179502365-1888.42992-71-0@perl.org>
X-Virus-Checked: Checked
X-Virus-Checked: Checked
X-Old-Spam-Check-By: la.mx.develooper.com
X-Old-Spam-Status: No, hits=0.7 required=8.0
	tests=ANY_BOUNCE_MESSAGE,BAYES_00,DKIM_SIGNED,DKIM_VERIFIED,DK_POLICY_SIGNSOME,DK_SIGNED,HTML_MESSAGE,KARMA_CONNECT_NEGATIVE,NORMAL_HTTP_TO_IP,SPF_PASS,URIBL_RHS_DOB,VBOUNCE_MESSAGE

------=_Part_61457_9023964.1179503360333
Content-Type: multipart/alternative; 
	boundary="----=_Part_61458_33287436.1179503360333"

------=_Part_61458_33287436.1179503360333
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,

Attached a new version of the patch, I did some more work on cleaning up and
commenting where I could (going top-down, so not for long finished... hint
hint)

Hope this helps,

klaas-jan



On 5/18/07, Parrot via RT <parrotbug-followup@parrotcode.org> wrote:
>
> Greetings,
>
> This message has been automatically generated in response to the
> creation of a parrotbug regarding:
>         "[PATCH] comments and minor details for debug.c"
>
> There is no need to reply to this message right now.  Your ticket has been
> assigned an ID of [perl #42992].
>
> Please include the string:
>          [perl #42992]
> In the subject line of all future correspondence about this issue. To do
> so,
> you may reply to this message.
>
>                         Thank you,
>                           parrotbug
>
> http://rt.perl.org/rt3/Ticket/Display.html?id=42992
> -------------------------------------------------------------------------
> MIME-Version: 1.0
> X-Spam-Status: No, hits=-1.9 required=8.0tests=BAYES_00,DKIM_SIGNED,DKIM_VERIFIED,DK_POLICY_SIGNSOME,DK_SIGNED,HTML_MESSAGE,SPF_NEUTRAL
> Received-SPF: neutral (x1.develooper.com: 63.251.223.176 is neither
> permitted nor denied by domain of parrotcode@gmail.com)
> Received-SPF: pass (x1.develooper.com: domain of parrotcode@gmail.comdesignates
> 209.85.132.251 as permitted sender)
> X-Old-Spam-Check-BY: la.mx.develooper.com
> Content-Type:
> multipart/mixed;  boundary="----=_Part_61229_23570530.1179502282138"
> Message-ID: <7b0e52b40705180831rba3e7c9r24377423a3a540bf@mail.gmail.com>
> Received: (qmail 32237 invoked by alias); 18 May 2007 15:31:51 -0000
> Received: (qmail 32232 invoked from network); 18 May 2007 15:31:51 -0000
> Received: from localhost (HELO la.mx.develooper.com) (127.0.0.1) by
> localhost with SMTP; 18 May 2007 15:31:51 -0000
> Received: (qmail 32227 invoked by alias); 18 May 2007 15:31:50 -0000
> Received: from la.mx.develooper.com (HELO x1.develooper.com) (
> 63.251.223.176) by la.mx.develooper.com (qpsmtpd/0.28) with SMTP; Fri, 18
> May 2007 08:31:43 -0700
> Received: (qmail 32165 invoked by uid 225); 18 May 2007 15:31:39 -0000
> Received: (qmail 32161 invoked by alias); 18 May 2007 15:31:38 -0000
> Received: from an-out-0708.google.com (HELO an-out-0708.google.com) (
> 209.85.132.251) by la.mx.develooper.com (qpsmtpd/0.28) with ESMTP; Fri, 18
> May 2007 08:31:30 -0700
> Received: by an-out-0708.google.com with SMTP id b38so266370ana for <
> parrotbug@parrotcode.org>; Fri, 18 May 2007 08:31:26 -0700 (PDT)
> Received: by 10.114.110.1 with SMTP id i1mr890764wac.1179502282300; Fri,
> 18 May 2007 08:31:22 -0700 (PDT)
> Received: by 10.114.193.2 with HTTP; Fri, 18 May 2007 08:31:22 -0700 (PDT)
> Delivered-To: rt-parrot@x1.develooper.com
> Delivered-To: bugs-parrot@netlabs.develooper.com
> Delivered-To: parrotbug@parrotcode.org
> Subject: [PATCH] comments and minor details for debug.c
> Return-Path: <parrotcode@gmail.com>
> Domainkey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=beta;
> h=received:message-id:date:from:to:subject:mime-version:content-type;
> b=T8x3DgwUJEutnqdqPE+SEPLwlwYlf9qL0R0qr0Hy5QauZjQZM4At3mzcrMQjtuMwNNGceLvSjLsR/gNauS/s5NKxEsoy2tdXDTtEBg4c2MOE6xJ8tCLsXqUOAJyh7FQ/vPg2GfJhKZwI5yKl+WvnGzOVZditCYap+VCL16WroCM=
> X-Spam-Check-BY: la.mx.develooper.com
> Dkim-Signature: a=rsa-sha1; c=relaxed/relaxed; d=gmail.com; s=beta;
> h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
> b=JEOa/iQ9e5XzAJbtt950slip+nph0QyFB2QXwEN88Ye4kS8u7dQVFVdSVEM/dvpS+KiKAC7XuZBdu4tLtEw0ckf2lXdhFxHrxrxPotd35VyzhCZKCWNrFsXSbnx5czZWHaSwZXb3qxtnR19JHHHAKqjcZ8V4a9IRhzKhVFgFDdw=
> X-Old-Spam-Status: No, hits=-2.6 required=8.0tests=BAYES_00,DKIM_SIGNED,DKIM_VERIFIED,DK_POLICY_SIGNSOME,DK_SIGNED,HTML_MESSAGE,SPF_PASS
> Date: Fri, 18 May 2007 23:31:22 +0800
> To: parrotbug@parrotcode.org
> From: "Klaas-Jan Stol" <parrotcode@gmail.com>
>
> Hi,
>
> attached a patch starting a bit of cleanup for debug.c
>
> * pointer declarations should be done like <type> <space> *<id> instead of
> the space after the *.
> -> so "int *p" instead of "int* p". Fixed this in a few places. (according
> to PDD07). many more to fix, though.
>
> * added some comments here and there.
>
> Hope this helps,
>
> kjs
>
>

------=_Part_61458_33287436.1179503360333
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,<br><br>Attached a new version of the patch, I did some more work on cleaning up and commenting where I could (going top-down, so not for long finished... hint hint)<br><br>Hope this helps,<br><br>klaas-jan<br><br><br><br>
<div><span class="gmail_quote">On 5/18/07, <b class="gmail_sendername">Parrot via RT</b> &lt;<a href="mailto:parrotbug-followup@parrotcode.org">parrotbug-followup@parrotcode.org</a>&gt; wrote:</span><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
Greetings,<br><br>This message has been automatically generated in response to the<br>creation of a parrotbug regarding:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;[PATCH] comments and minor details for debug.c&quot;<br><br>There is no need to reply to this message right now.&nbsp;&nbsp;Your ticket has been
<br>assigned an ID of [perl #42992].<br><br>Please include the string:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [perl #42992]<br>In the subject line of all future correspondence about this issue. To do so,<br>you may reply to this message.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thank you,
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parrotbug<br><br><a href="http://rt.perl.org/rt3/Ticket/Display.html?id=42992">http://rt.perl.org/rt3/Ticket/Display.html?id=42992</a><br>-------------------------------------------------------------------------
<br>MIME-Version: 1.0<br>X-Spam-Status: No, hits=-1.9 required=8.0 tests=BAYES_00,DKIM_SIGNED,DKIM_VERIFIED,DK_POLICY_SIGNSOME,DK_SIGNED,HTML_MESSAGE,SPF_NEUTRAL<br>Received-SPF: neutral (<a href="http://x1.develooper.com">
x1.develooper.com</a>: <a href="http://63.251.223.176">63.251.223.176</a> is neither permitted nor denied by domain of <a href="mailto:parrotcode@gmail.com">parrotcode@gmail.com</a>)<br>Received-SPF: pass (<a href="http://x1.develooper.com">
x1.develooper.com</a>: domain of <a href="mailto:parrotcode@gmail.com">parrotcode@gmail.com</a> designates <a href="http://209.85.132.251">209.85.132.251</a> as permitted sender)<br>X-Old-Spam-Check-BY: <a href="http://la.mx.develooper.com">
la.mx.develooper.com</a><br>Content-Type: multipart/mixed;&nbsp;&nbsp;boundary=&quot;----=_Part_61229_23570530.1179502282138&quot;<br>Message-ID: &lt;<a href="mailto:7b0e52b40705180831rba3e7c9r24377423a3a540bf@mail.gmail.com">7b0e52b40705180831rba3e7c9r24377423a3a540bf@mail.gmail.com
</a>&gt;<br>Received: (qmail 32237 invoked by alias); 18 May 2007 15:31:51 -0000<br>Received: (qmail 32232 invoked from network); 18 May 2007 15:31:51 -0000<br>Received: from localhost (HELO <a href="http://la.mx.develooper.com">
la.mx.develooper.com</a>) (<a href="http://127.0.0.1">127.0.0.1</a>) by localhost with SMTP; 18 May 2007 15:31:51 -0000<br>Received: (qmail 32227 invoked by alias); 18 May 2007 15:31:50 -0000<br>Received: from <a href="http://la.mx.develooper.com">
la.mx.develooper.com</a> (HELO <a href="http://x1.develooper.com">x1.develooper.com</a>) (<a href="http://63.251.223.176">63.251.223.176</a>) by <a href="http://la.mx.develooper.com">la.mx.develooper.com</a> (qpsmtpd/0.28) with SMTP; Fri, 18 May 2007 08:31:43 -0700
<br>Received: (qmail 32165 invoked by uid 225); 18 May 2007 15:31:39 -0000<br>Received: (qmail 32161 invoked by alias); 18 May 2007 15:31:38 -0000<br>Received: from <a href="http://an-out-0708.google.com">an-out-0708.google.com
</a> (HELO <a href="http://an-out-0708.google.com">an-out-0708.google.com</a>) (<a href="http://209.85.132.251">209.85.132.251</a>) by <a href="http://la.mx.develooper.com">la.mx.develooper.com</a> (qpsmtpd/0.28) with ESMTP; Fri, 18 May 2007 08:31:30 -0700
<br>Received: by <a href="http://an-out-0708.google.com">an-out-0708.google.com</a> with SMTP id b38so266370ana for &lt;<a href="mailto:parrotbug@parrotcode.org">parrotbug@parrotcode.org</a>&gt;; Fri, 18 May 2007 08:31:26 -0700 (PDT)
<br>Received: by <a href="http://10.114.110.1">10.114.110.1</a> with SMTP id i1mr890764wac.1179502282300; Fri, 18 May 2007 08:31:22 -0700 (PDT)<br>Received: by <a href="http://10.114.193.2">10.114.193.2</a> with HTTP; Fri, 18 May 2007 08:31:22 -0700 (PDT)
<br>Delivered-To: <a href="mailto:rt-parrot@x1.develooper.com">rt-parrot@x1.develooper.com</a><br>Delivered-To: <a href="mailto:bugs-parrot@netlabs.develooper.com">bugs-parrot@netlabs.develooper.com</a><br>Delivered-To: <a href="mailto:parrotbug@parrotcode.org">
parrotbug@parrotcode.org</a><br>Subject: [PATCH] comments and minor details for debug.c<br>Return-Path: &lt;<a href="mailto:parrotcode@gmail.com">parrotcode@gmail.com</a>&gt;<br>Domainkey-Signature: a=rsa-sha1; c=nofws; d=
<a href="http://gmail.com">gmail.com</a>; s=beta; h=received:message-id:date:from:to:subject:mime-version:content-type; b=T8x3DgwUJEutnqdqPE+SEPLwlwYlf9qL0R0qr0Hy5QauZjQZM4At3mzcrMQjtuMwNNGceLvSjLsR/gNauS/s5NKxEsoy2tdXDTtEBg4c2MOE6xJ8tCLsXqUOAJyh7FQ/vPg2GfJhKZwI5yKl+WvnGzOVZditCYap+VCL16WroCM=
<br>X-Spam-Check-BY: <a href="http://la.mx.develooper.com">la.mx.develooper.com</a><br>Dkim-Signature: a=rsa-sha1; c=relaxed/relaxed; d=<a href="http://gmail.com">gmail.com</a>; s=beta; h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type; b=JEOa/iQ9e5XzAJbtt950slip+nph0QyFB2QXwEN88Ye4kS8u7dQVFVdSVEM/dvpS+KiKAC7XuZBdu4tLtEw0ckf2lXdhFxHrxrxPotd35VyzhCZKCWNrFsXSbnx5czZWHaSwZXb3qxtnR19JHHHAKqjcZ8V4a9IRhzKhVFgFDdw=
<br>X-Old-Spam-Status: No, hits=-2.6 required=8.0 tests=BAYES_00,DKIM_SIGNED,DKIM_VERIFIED,DK_POLICY_SIGNSOME,DK_SIGNED,HTML_MESSAGE,SPF_PASS<br>Date: Fri, 18 May 2007 23:31:22 +0800<br>To: <a href="mailto:parrotbug@parrotcode.org">
parrotbug@parrotcode.org</a><br>From: &quot;Klaas-Jan Stol&quot; &lt;<a href="mailto:parrotcode@gmail.com">parrotcode@gmail.com</a>&gt;<br><br>Hi,<br><br>attached a patch starting a bit of cleanup for debug.c<br><br>* pointer declarations should be done like &lt;type&gt; &lt;space&gt; *&lt;id&gt; instead of
<br>the space after the *.<br> -&gt; so &quot;int *p&quot; instead of &quot;int* p&quot;. Fixed this in a few places. (according<br>to PDD07). many more to fix, though.<br><br>* added some comments here and there.<br><br>
Hope this helps,<br><br>kjs<br><br></blockquote></div><br>

------=_Part_61458_33287436.1179503360333--

------=_Part_61457_9023964.1179503360333
Content-Type: application/octet-stream; name="debugpatch2.patch"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="debugpatch2.patch"
X-Attachment-Id: f_f1utu8rd

SW5kZXg6IHNyYy9kZWJ1Zy5jDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLS0gc3JjL2RlYnVnLmMJKHJldmlzaW9u
IDE4NTgyKQ0KKysrIHNyYy9kZWJ1Zy5jCSh3b3JraW5nIGNvcHkpDQpAQCAtNDYsMjAgKzQ2LDI1
IEBADQogCiA9aXRlbSBDPHN0YXRpYyBjaGFyKiBuZXh0YXJnKGNoYXIqIGNvbW1hbmQpPgogCi1S
ZXR1cm5zIHRoZSBwb3NpdGlvbiBqdXN0IHBhc3QgdGhlIGN1cnJlbnQgYXJndW1lbnQgaW4gYSBQ
QVNNCi1pbnN0cnVjdGlvbi4gVGhpcyBpcyBub3QgdGhlIHNhbWUgYXMgQzxuYSgpPiwgYWJvdmUs
IHdoaWNoIGlzIGludGVuZGVkCi1mb3IgZGVidWdnZXIgY29tbWFuZHMuIFRoaXMgZnVuY3Rpb24g
aXMgdXNlZCBmb3IgQzxldmFsPi4KK1JldHVybnMgdGhlIHBvc2l0aW9uIGp1c3QgcGFzdCB0aGUg
Y3VycmVudCBhcmd1bWVudCBpbiB0aGUgUEFTTQoraW5zdHJ1Y3Rpb24gQzxjb21tYW5kPi4gVGhp
cyBpcyBub3QgdGhlIHNhbWUgYXMgQzxuYSgpPiwgYWJvdmUsCit3aGljaCBpcyBpbnRlbmRlZCBm
b3IgZGVidWdnZXIgY29tbWFuZHMuIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBmb3IgQzxldmFsPi4K
IAogPWN1dAogCiAqLwogCi1zdGF0aWMgY2hhcioKLW5leHRhcmcoY2hhciogY29tbWFuZCkKK3N0
YXRpYyBjaGFyIGNvbnN0ICoKK25leHRhcmcoY2hhciBjb25zdCAqY29tbWFuZCkKIHsKKyAgICAv
KiBhcyBsb25nIGFzIHRoZSBjaGFyYWN0ZXIgcG9pbnRlZCB0byBieSBjb21tYW5kIGlzIG5vdCBO
VUxMLAorICAgICAqIGFuZCBpdCBpcyBlaXRoZXIgYWxwaGFudW1lcmljLCBhIGNvbW1hIG9yIGEg
Y2xvc2luZyBicmFja2V0LAorICAgICAqIGNvbnRpbnVlIGxvb2tpbmcgZm9yIHRoZSBuZXh0IGFy
Z3VtZW50LgorICAgICAqLwogICAgIHdoaWxlICgqY29tbWFuZCAmJiAoaXNhbG51bSgoaW50KSAq
Y29tbWFuZCkgfHwgKmNvbW1hbmQgPT0gJywnIHx8CiAgICAgICAgICpjb21tYW5kID09ICddJykp
CiAgICAgICAgICAgICBjb21tYW5kKys7CisgICAgLyogVHJ5IHRvIGVhdCBhcyBtdWNoIHNwYWNl
IGFzIHdlIGNhbiAqLwogICAgIHdoaWxlICgqY29tbWFuZCAmJiBpc3NwYWNlKChpbnQpICpjb21t
YW5kKSkKICAgICAgICAgY29tbWFuZCsrOwogICAgIHJldHVybiBjb21tYW5kOwpAQCAtNzUsMTEg
KzgwLDEzIEBADQogCiAqLwogCi1zdGF0aWMgY29uc3QgY2hhcioKLXNraXBfd3MoY29uc3QgY2hh
ciogc3RyKQorc3RhdGljIGNvbnN0IGNoYXIgKgorc2tpcF93cyhjb25zdCBjaGFyICpzdHIpCiB7
CisgICAgLyogYXMgbG9uZyBhcyBzdHIgaXMgbm90IE5VTEwgYW5kIGl0IGNvbnRhaW5zIHNwYWNl
LCBza2lwIGl0ICovCiAgICAgd2hpbGUgKCpzdHIgJiYgaXNzcGFjZSgoaW50KSAqc3RyKSkKICAg
ICAgICAgc3RyKys7CisKICAgICByZXR1cm4gc3RyOwogfQogCkBAIC05NCwzMSArMTAxLDM3IEBA
DQogCiAqLwogCi1zdGF0aWMgY29uc3QgY2hhcioKLXNraXBfY29tbWFuZChjb25zdCBjaGFyKiBz
dHIpCitzdGF0aWMgY29uc3QgY2hhciAqCitza2lwX2NvbW1hbmQoY29uc3QgY2hhciAqIHN0cikK
IHsKKyAgICAvKiB3aGlsZSBzdHIgaXMgbm90IG51bGwgYW5kIGl0IGNvbnRhaW5zIGEgY29tbWFu
ZCAobm8gc3BhY2VzKSwKKyAgICAgKiBza2lwIHRoZSBjaGFyYWN0ZXIKKyAgICAgKi8KICAgICB3
aGlsZSAoKnN0ciAmJiAhaXNzcGFjZSgoaW50KSAqc3RyKSkKICAgICAgICAgc3RyKys7CisgICAg
LyogYW5kIGVhdCBhbGwgc3BhY2UgYWZ0ZXIgdGhhdCAqLwogICAgIHdoaWxlICgqc3RyICYmIGlz
c3BhY2UoKGludCkgKnN0cikpCiAgICAgICAgIHN0cisrOworCiAgICAgcmV0dXJuIHN0cjsKIH0K
IAogLyoKIAotPWl0ZW0gQzxzdGF0aWMgY29uc3QgY2hhciogcGFyc2VfaW50KGNvbnN0IGNoYXIq
IHN0ciwgaW50KiBpbnRQKT4KKz1pdGVtIEM8c3RhdGljIGNvbnN0IGNoYXIgKnBhcnNlX2ludChj
b25zdCBjaGFyICpzdHIsIGludCAqaW50UCk+CiAKIFBhcnNlIGFuIEM8aW50PiBvdXQgb2YgYSBz
dHJpbmcgYW5kIHJldHVybiBhIHBvaW50ZXIgdG8ganVzdCBhZnRlciB0aGUKLUM8aW50Pi4KK0M8
aW50Pi4gVGhlIHBhcmFtZXRlciBDPGludFA+IGlzIGFuIG91dHB1dCBwYXJhbWV0ZXIsIGFuZCBj
b250YWlucyB0aGUKK3ZhbHVlIHRoYXQgaXMgcGFyc2VkLgogCiA9Y3V0CiAKICovCiAKLXN0YXRp
YyBjb25zdCBjaGFyKgotcGFyc2VfaW50KGNvbnN0IGNoYXIqIHN0ciwgaW50KiBpbnRQKQorc3Rh
dGljIGNvbnN0IGNoYXIgKgorcGFyc2VfaW50KGNvbnN0IGNoYXIgKnN0ciwgaW50ICppbnRQKQog
ewotICAgIGNoYXIqIGVuZDsKKyAgICBjaGFyICplbmQ7CiAKICAgICAqaW50UCA9IHN0cnRvbChz
dHIsICZlbmQsIDApOwogCkBAIC0xMjcsNDYgKzE0MCw1NCBAQA0KIAogLyoKIAotPWl0ZW0gQzxz
dGF0aWMgY29uc3QgY2hhcioKLXBhcnNlX3N0cmluZyhJbnRlcnAgKmludGVycCwKLSAgICAgICAg
ICAgICBjb25zdCBjaGFyKiBzdHIsIFNUUklORyoqIHN0clApPgorPWl0ZW0gQzxzdGF0aWMgY29u
c3QgY2hhciAqcGFyc2Vfc3RyaW5nKEludGVycCAqaW50ZXJwLAorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIqIHN0ciwgU1RSSU5HKiogc3RyUCk+CiAK
IFBhcnNlIGEgZG91YmxlLXF1b3RlZCBzdHJpbmcgb3V0IG9mIGEgQyBzdHJpbmcgYW5kIHJldHVy
biBhIHBvaW50ZXIgdG8KIGp1c3QgYWZ0ZXIgdGhlIHN0cmluZy4gVGhlIHBhcnNlZCBzdHJpbmcg
aXMgY29udmVydGVkIHRvIGEgUGFycm90Ci1DPFNUUklORz4uCitDPFNUUklORz4sIHdoaWNoIGlz
IHJldHVybmVkIHRocm91Z2ggdGhlIG91dHB1dCBwYXJhbWV0ZXIgQzxzdHJQPi4KIAogPWN1dAog
CiAqLwogCiBzdGF0aWMgY29uc3QgY2hhcioKLXBhcnNlX3N0cmluZyhJbnRlcnAgKmludGVycCwK
LSAgICAgICAgICAgICBjb25zdCBjaGFyKiBzdHIsIFNUUklORyoqIHN0clApCitwYXJzZV9zdHJp
bmcoSW50ZXJwICppbnRlcnAsIGNvbnN0IGNoYXIgKnN0ciwgU1RSSU5HICoqc3RyUCkKIHsKLSAg
ICBjb25zdCBjaGFyKiBzdHJpbmc7CisgICAgY29uc3QgY2hhciogc3RyaW5nX3N0YXJ0OwogCisg
ICAgLyogaWYgdGhpcyBpcyBub3QgYSBxdW90ZWQgc3RyaW5nLCB0aGVuIG5vdGhpbmcgdG8gcGFy
c2UsIHJldHVybiBOVUxMICovCiAgICAgaWYgKCpzdHIgIT0gJyInKQogICAgICAgICByZXR1cm4g
TlVMTDsKLSAgICBzdHIrKzsKLSAgICBzdHJpbmcgPSBzdHI7CisgICAgICAgIAorICAgIHN0cisr
OyAvKiBza2lwIHRoZSAnIicgKi8KKyAgICBzdHJpbmdfc3RhcnQgPSBzdHI7IC8qIHJlbWVtYmVy
IHdoZXJlIHRoZSBzdHJpbmcgc3RhcnRzICovCisgICAgCisgICAgLyogY29udGludWUgcGFyc2lu
ZyB3aGlsZSB3ZSBkb24ndCBzZWUgdGhlIGNsb3NpbmcgcXVvdGUgKi8KICAgICB3aGlsZSAoKnN0
ciAmJiAqc3RyICE9ICciJykgeworICAgICAgICAvKiBjaGVjayBmb3IgZXNjYXBlZCBxdW90ZXMs
IGlmIGFueSwgc2tpcCBcIGFuZCAiLiAqLwogICAgICAgICBpZiAoKnN0ciA9PSAnXFwnICYmIHN0
clsxXSkKICAgICAgICAgICAgIHN0ciArPSAyOwotICAgICAgICBlbHNlCisgICAgICAgIGVsc2Ug
Lyogbm8gZXNjYXBlIGNoYXJhY3RlciAqLwogICAgICAgICAgICAgc3RyKys7CiAgICAgfQogCi0g
ICAgKnN0clAgPSBzdHJpbmdfbWFrZShpbnRlcnAsIHN0cmluZywgc3RyIC0gc3RyaW5nLCBOVUxM
LCAwKTsKKyAgICAvKiBjcmVhdGUgYSBzdHJpbmcgd2l0aCBsZW5ndGggc3RyIC0gc3RyaW5nX3N0
YXJ0LCBhbmQgYXNzaWduIGl0CisgICAgICogdG8gdGhlIG91dHB1dCBwYXJhbWV0ZXIgc3RyUAor
ICAgICAqLworICAgICpzdHJQID0gc3RyaW5nX21ha2UoaW50ZXJwLCBzdHJpbmdfc3RhcnQsIHN0
ciAtIHN0cmluZ19zdGFydCwgTlVMTCwgMCk7CiAKKyAgICAvKiBYWFggSSBkb24ndCBrbm93IHdo
eSB0aGlzIGlzICovCiAgICAgaWYgKCpzdHIpCiAgICAgICAgIHN0cisrOworICAgICAgICAKICAg
ICByZXR1cm4gc3RyOwogfQogCiAvKgogCi09aXRlbSBDPHN0YXRpYyBjb25zdCBjaGFyKgotcGFy
c2Vfa2V5KEludGVycCAqaW50ZXJwLCBjb25zdCBjaGFyKiBzdHIsIFBNQyoqIGtleVApPgorPWl0
ZW0gQzxzdGF0aWMgY29uc3QgY2hhciAqcGFyc2Vfa2V5KEludGVycCAqaW50ZXJwLCBjb25zdCBj
aGFyKiBzdHIsIAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBNQyoqIGtl
eVApPgogCiBQYXJzZSBhbiBhZ2dyZWdhdGUga2V5IG91dCBvZiBhIHN0cmluZyBhbmQgcmV0dXJu
IGEgcG9pbnRlciB0byBqdXN0CiBhZnRlciB0aGUga2V5LiBDdXJyZW50bHkgb25seSBzdHJpbmcg
YW5kIGludGVnZXIga2V5cyBhcmUgYWxsb3dlZC4KQEAgLTE3NiwzNSArMTk3LDQ3IEBADQogKi8K
IAogc3RhdGljIGNvbnN0IGNoYXIqCi1wYXJzZV9rZXkoSW50ZXJwICppbnRlcnAsIGNvbnN0IGNo
YXIqIHN0ciwgUE1DKioga2V5UCkKK3BhcnNlX2tleShJbnRlcnAgKmludGVycCwgY29uc3QgY2hh
ciAqc3RyLCBQTUMgKiprZXlQKQogewotICAgICprZXlQID0gTlVMTDsKLSAgICBpZiAoKnN0ciAh
PSAnWycpCisgICAgKmtleVAgPSBOVUxMOyAvKiBjbGVhciBvdXRwdXQgcGFyYW1ldGVyICovCisg
ICAgCisgICAgaWYgKCpzdHIgIT0gJ1snKSAvKiBpZiAnWycsIHRoZW4gbm8ga2V5LCByZXR1cm4g
TlVMTCAqLwogICAgICAgICByZXR1cm4gTlVMTDsKKyAgICAgICAgCiAgICAgc3RyKys7IC8qIFNr
aXAgWyAqLwotICAgIGlmICgqc3RyID09ICciJykgewotICAgICAgICBTVFJJTkcqIHN0cmluZzsK
LSAgICAgICAgc3RyID0gcGFyc2Vfc3RyaW5nKGludGVycCwgc3RyLCAmc3RyaW5nKTsKLSAgICAg
ICAgKmtleVAgPSBrZXlfbmV3X3N0cmluZyhpbnRlcnAsIHN0cmluZyk7CisgICAgCisgICAgLyog
aWYgdGhpcyBpcyBhIHN0cmluZyBrZXksIHBhcnNlIHRoZSBzdHJpbmcsIGFuZCBjcmVhdGUgYQor
ICAgICAqIG5ldyBrZXkgc3RyaW5nLCByZXR1cm5lZCB0aHJvdWdoIGtleVAgb3V0cHV0IHBhcmFt
ZXRlci4KKyAgICAgKi8KKyAgICBpZiAoKnN0ciA9PSAnIicpIHsgCisgICAgICAgIFNUUklORyog
cGFycm90X3N0cmluZzsKKyAgICAgICAgc3RyID0gcGFyc2Vfc3RyaW5nKGludGVycCwgc3RyLCAm
cGFycm90X3N0cmluZyk7CisgICAgICAgICprZXlQID0ga2V5X25ld19zdHJpbmcoaW50ZXJwLCBw
YXJyb3Rfc3RyaW5nKTsKICAgICB9Ci0gICAgZWxzZSBpZiAoaXNkaWdpdCgoaW50KSAqc3RyKSkg
eworICAgIGVsc2UgaWYgKGlzZGlnaXQoKGludCkgKnN0cikpIHsgLyogaXQgaXMgYSBudW1lcmlj
IGtleSAqLwogICAgICAgICBpbnQgdmFsdWU7CiAgICAgICAgIHN0ciA9IHBhcnNlX2ludChzdHIs
ICZ2YWx1ZSk7CisgICAgICAgIC8qIHJldHVybiBhIG5ldyBpbnRlZ2VyIGtleSB0aHJvdWdoIGtl
eVAgb3V0cHV0IHBhcmFtZXRlciAqLwogICAgICAgICAqa2V5UCA9IGtleV9uZXdfaW50ZWdlcihp
bnRlcnAsIChJTlRWQUwpIHZhbHVlKTsKICAgICB9Ci0gICAgZWxzZSB7CisgICAgZWxzZSB7IC8q
IG5laXRoZXIgYSBzdHJpbmcgbm9yIGEgbnVtZXJpYyBrZXksICdub3Qgc3VwcG9ydGVkIGNhc2Un
LiAqLwogICAgICAgICByZXR1cm4gTlVMTDsKICAgICB9CiAKKyAgICAvKiBYWFggSSB0aGluaywg
d2Ugc2hvdWxkIG1hdGNoIGEgJ10nIG5vdywgaWYgbm90LCBpdCBpcyBhbiBlcnJvciwKKyAgICAg
KiBpbiB3aGljaCBjYXNlIHdlIHNob3VsZCByZXR1cm4gTlVMTCAKKyAgICAgKi8KICAgICBpZiAo
KnN0ciAhPSAnXScpCiAgICAgICAgIHJldHVybiBOVUxMOworICAgIAorICAgIC8qIHNraXAgdGhl
ICddJywgYmVmb3JlIHJldHVybmluZyB0aGUgcG9pbnRlciB0byB0aGUgY29tbWFuZCAqLyAgICAK
ICAgICByZXR1cm4gKytzdHI7CiB9CiAKIC8qCiAKLT1pdGVtIEM8c3RhdGljIGNvbnN0IGNoYXIq
Ci1wYXJzZV9jb21tYW5kKGNvbnN0IGNoYXIqIGNvbW1hbmQsIHVuc2lnbmVkIGxvbmcqIGNtZFAp
PgorPWl0ZW0gQzxzdGF0aWMgY29uc3QgY2hhciAqcGFyc2VfY29tbWFuZChjb25zdCBjaGFyICpj
b21tYW5kLCAKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWdu
ZWQgbG9uZyAqY21kUCk+CiAKIENvbnZlcnQgdGhlIGNvbW1hbmQgYXQgdGhlIGJlZ2lubmluZyBv
ZiBhIHN0cmluZyBpbnRvIGEgbnVtZXJpYyB2YWx1ZQogdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHN3
aXRjaCBrZXkgZm9yIGZhc3QgbG9va3VwLgpAQCAtMjEzLDEyICsyNDYsMTMgQEANCiAKICovCiAK
LXN0YXRpYyBjb25zdCBjaGFyKgotcGFyc2VfY29tbWFuZChjb25zdCBjaGFyKiBjb21tYW5kLCB1
bnNpZ25lZCBsb25nKiBjbWRQKQorc3RhdGljIGNvbnN0IGNoYXIgKgorcGFyc2VfY29tbWFuZChj
b25zdCBjaGFyICpjb21tYW5kLCB1bnNpZ25lZCBsb25nICpjbWRQKQogewogICAgIGludCBpOwog
ICAgIHVuc2lnbmVkIGxvbmcgYyA9IDA7CiAKKyAgICAKICAgICBpZiAoKmNvbW1hbmQgPT0gJ1ww
JykgewogICAgICAgICAqY21kUCA9IGM7CiAgICAgICAgIHJldHVybiAwOwo=
------=_Part_61457_9023964.1179503360333--

