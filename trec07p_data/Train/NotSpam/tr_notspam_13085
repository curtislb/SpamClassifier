From perl6-all-return-81575-ktwarwic=speedy.uwaterloo.ca@perl.org  Thu May 24 09:34:51 2007
Return-Path: <perl6-all-return-81575-ktwarwic=speedy.uwaterloo.ca@perl.org>
Received: from lists.develooper.com (x6.develooper.com [63.251.223.186])
	by flax9.uwaterloo.ca (8.12.8/8.12.5) with SMTP id l4ODYnqD006251
	for <ktwarwic@flax9.uwaterloo.ca>; Thu, 24 May 2007 09:34:49 -0400
Received: (qmail 13417 invoked by uid 514); 24 May 2007 13:34:44 -0000
Mailing-List: contact perl6-all-help@perl.org; run by ezmlm
Precedence: bulk
List-Post: <mailto:perl6-all@perl.org>
List-Help: <mailto:perl6-all-help@perl.org>
List-Unsubscribe: <mailto:perl6-all-unsubscribe@perl.org>
List-Subscribe: <mailto:perl6-all-subscribe@perl.org>
List-Id: <perl6-all.perl.org>
Delivered-To: mailing list perl6-all@perl.org
Received: (qmail 13412 invoked from network); 24 May 2007 13:34:44 -0000
Delivered-To: perl6-all-poster@perl.org
X-Spam-Status: No, hits=-1.6 required=8.0
	tests=BAYES_00,DKIM_POLICY_SIGNSOME,DK_POLICY_SIGNSOME,KARMA_CONTENT_NEGATIVE,SPF_PASS
X-Spam-Check-By: la.mx.develooper.com
Received-SPF: pass (x1.develooper.com: local policy)
X-Mailing-List: contact perl6-internals-help@perl.org; run by ezmlm
X-Mailing-List-Name: perl6-internals
List-Id: <perl6-internals.perl.org>
Delivered-To: mailing list perl6-internals@perl.org
Delivered-To: moderator for perl6-internals@perl.org
Delivered-To: perl6-internals@perl.org
Received-SPF: pass (x1.develooper.com: local policy)
From: Klaas-Jan Stol (via RT) <parrotbug-followup@parrotcode.org>
X-RT-NewTicket: yes
To: bugs-bitbucket@netlabs.develooper.com
Resent-To: perl6-internals@perl.org
Mail-Followup-To: perl6-internals@perl.org
Reply-To: perl6-internals@perl.org
Date: Thu, 24 May 2007 05:26:34 -0700
Subject: [perl #43044] [PATCH] more comments for debug.c 
In-Reply-To: <7b0e52b40705240516w2ccf8178vd0d9b84edcbebcf6@mail.gmail.com>
References: <RT-Ticket-43044@perl.org> <7b0e52b40705240516w2ccf8178vd0d9b84edcbebcf6@mail.gmail.com>
Message-ID: <rt-3.6.HEAD-21644-1180009594-831.43044-72-0@perl.org>
X-RT-Loop-Prevention: perl
RT-Ticket: perl #43044
Managed-by: RT 3.6.HEAD (http://www.bestpractical.com/rt/)
RT-Originator: parrotcode@gmail.com
MIME-Version: 1.0
X-RT-Original-Encoding: utf-8
Content-type: multipart/mixed; boundary="----------=_1180009595-21644-2"
Resent-Message-Id: <20070524122636.8CC502AFDA@x3.develooper.com>
Resent-Date: Thu, 24 May 2007 05:26:36 -0700 (PDT)
Resent-From: rt-parrotcode=gmail.com@netlabs.develooper.com
X-Virus-Checked: Checked
X-Virus-Checked: Checked
X-Old-Spam-Check-By: la.mx.develooper.com
X-Old-Spam-Status: No, hits=-2.6 required=8.0
	tests=BAYES_00,DKIM_POLICY_SIGNSOME,DK_POLICY_SIGNSOME,HTML_MESSAGE,SPF_PASS

------------=_1180009595-21644-2
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: 8bit

# New Ticket Created by  Klaas-Jan Stol 
# Please include the string:  [perl #43044]
# in the subject line of all future correspondence about this issue. 
# <URL: http://rt.perl.org/rt3/Ticket/Display.html?id=43044 >


hi,

attached another patch for debug.c I already sent this one, but I just
realized not with the [PATCH] keyword in the subject (I replied on an other
email), so I resend it here again so it won't get lost.

best,
kjs

------------=_1180009595-21644-2
Content-Type: application/octet-stream; name="more_debug_comments.patch"
Content-Disposition: inline; filename="more_debug_comments.patch"
Content-Transfer-Encoding: base64
RT-Attachment: 43044/260728/113912

SW5kZXg6IHNyYy9kZWJ1Zy5jDQo9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQot
LS0gc3JjL2RlYnVnLmMJKHJldmlzaW9uIDE4NjMzKQ0KKysrIHNyYy9kZWJ1
Zy5jCSh3b3JraW5nIGNvcHkpDQpAQCAtMjM4LDcgKzIzOCw3IEBADQogCiAv
KgogCi09aXRlbSBDPHN0YXRpYyBjb25zdCBjaGFyKgorPWl0ZW0gQzxzdGF0
aWMgY29uc3QgY2hhciAqCiBwYXJzZV9jb21tYW5kKGNvbnN0IGNoYXIgKmNv
bW1hbmQsIHVuc2lnbmVkIGxvbmcgKmNtZFApPgogCiBDb252ZXJ0IHRoZSBj
b21tYW5kIGF0IHRoZSBiZWdpbm5pbmcgb2YgYSBzdHJpbmcgaW50byBhIG51
bWVyaWMgdmFsdWUKQEAgLTI0OCwxMCArMjQ4LDEwIEBADQogCiAqLwogCi1z
dGF0aWMgY29uc3QgY2hhcioKK3N0YXRpYyBjb25zdCBjaGFyICoKIHBhcnNl
X2NvbW1hbmQoY29uc3QgY2hhciAqY29tbWFuZCwgdW5zaWduZWQgbG9uZyAq
Y21kUCkKIHsKLSAgICBpbnQgICAgICAgICAgIGk7CisgICAgaW50IGk7CiAg
ICAgdW5zaWduZWQgbG9uZyBjID0gMDsKIAogICAgIGlmICgqY29tbWFuZCA9
PSAnXDAnKSB7CkBAIC0yNTksNiArMjU5LDkgQEANCiAgICAgICAgIHJldHVy
biAwOwogICAgIH0KIAorICAgIC8qIHdoaWxlIGNvbW1hbmQgaXMgbm90IE5V
TEwgYW5kIHRoZSBjb21tYW5kIGlzIGFuIGFscGhhIGNoYXJhY3RlciAuLi4K
KyAgICAgKiBkb24ndCBrbm93IHdoYXQgdGhpcyBjb2RlIGRvZXMuCisgICAg
ICovCiAgICAgZm9yIChpID0gMDsgKmNvbW1hbmQgJiYgaXNhbHBoYSgoaW50
KSAqY29tbWFuZCk7IGNvbW1hbmQrKywgaSsrKQogICAgICAgICBjICs9ICh0
b2xvd2VyKChpbnQpICpjb21tYW5kKSArIChpICsgMSkpICogKChpICsgMSkg
KiAyNTUpOwogCkBAIC01MDgsOCArNTExLDcgQEANCiA9aXRlbSBDPHZvaWQK
IFBEQl90cmFjZShJbnRlcnAgKmludGVycCwgY29uc3QgY2hhciAqY29tbWFu
ZCk+CiAKLUV4ZWN1dGUgdGhlIG5leHQgTiBvcGVyYXRpb25zOyBpZiBubyBu
dW1iZXIgaXMgc3BlY2lmaWVkLCBpdCBkZWZhdWx0cyB0bwotMS4KK0V4ZWN1
dGUgdGhlIG5leHQgTiBvcGVyYXRpb25zOyBpZiBubyBudW1iZXIgaXMgc3Bl
Y2lmaWVkLCBpdCBkZWZhdWx0cyB0byAxLgogCiA9Y3V0CiAKQEAgLTUyMiwx
NSArNTI0LDE5IEBADQogICAgIFBEQl90ICAgICAgICAgKnBkYiA9IGludGVy
cC0+cGRiOwogICAgIEludGVycCAgICAgICAgKmRlYnVnZWU7CiAKKyAgICAv
KiBpZiBkZWJ1Z2dlciBpcyBub3QgcnVubmluZyB5ZXQsIGluaXRpYWxpemUg
Ki8KICAgICBpZiAoIShwZGItPnN0YXRlICYgUERCX1JVTk5JTkcpKQogICAg
ICAgICBQREJfaW5pdChpbnRlcnAsIGNvbW1hbmQpOwogCisgICAgLyogaWYg
dGhlIG51bWJlciBvZiBvcHMgdG8gcnVuIGlzIHNwZWNpZmllZCwgY29udmVy
dCB0byBhIGxvbmcgKi8KICAgICBpZiAoY29tbWFuZCAmJiBpc2RpZ2l0KChp
bnQpICpjb21tYW5kKSkKICAgICAgICAgbiA9IGF0b2woY29tbWFuZCk7CiAK
KyAgICAvKiBjbGVhciB0aGUgUERCX1NUT1BQRUQgZmxhZywgd2UnbGwgYmUg
cnVubmluZyBuIG9wcyBub3cgKi8KICAgICBwZGItPnN0YXRlICY9IH5QREJf
U1RPUFBFRDsKICAgICBkZWJ1Z2VlICAgICA9IHBkYi0+ZGVidWdlZTsKIAor
ICAgIC8qIGV4ZWN1dGUgbiBvcHMgKi8KICAgICBmb3IgKDsgbiAmJiBwZGIt
PmN1cl9vcGNvZGU7IG4tLSkgewogICAgICAgICB0cmFjZV9vcChkZWJ1Z2Vl
LAogICAgICAgICAgICAgICAgIGRlYnVnZWUtPmNvZGUtPmJhc2UuZGF0YSwK
QEAgLTU0MCw2ICs1NDYsNyBAQA0KICAgICAgICAgRE9fT1AocGRiLT5jdXJf
b3Bjb2RlLCBkZWJ1Z2VlKTsKICAgICB9CiAKKyAgICAvKiBzZXQgUERCX1NU
T1BQRUQgZmxhZywgd2UganVzdCBzdG9wcGVkICovCiAgICAgcGRiLT5zdGF0
ZSB8PSBQREJfU1RPUFBFRDsKIAogICAgIC8qIElmIHByb2dyYW0gZW5kZWQg
Ki8KQEAgLTU0OSw4ICs1NTYsNyBAQA0KIAogLyoKIAotPWl0ZW0gQzxQREJf
Y29uZGl0aW9uX3QgKgotUERCX2NvbmQoSW50ZXJwICppbnRlcnAsIGNvbnN0
IGNoYXIgKmNvbW1hbmQpPgorPWl0ZW0gQzxQREJfY29uZGl0aW9uX3QgKlBE
Ql9jb25kKEludGVycCAqaW50ZXJwLCBjb25zdCBjaGFyICpjb21tYW5kKT4K
IAogQW5hbHl6ZXMgYSBjb25kaXRpb24gZnJvbSB0aGUgdXNlciBpbnB1dC4K
IApAQCAtNjA0LDkgKzYxMCwxMyBAQA0KICAgICAgKiBjb25kaXRpb24uICov
CiAgICAgY29tbWFuZCsrOwogCisgICAgLyogWFhYIERvZXMgL3RoaXMvIGhh
dmUgdG8gZG8gd2l0aCB0aGUgZmFjdCB0aGF0IFBBU00gcmVnaXN0ZXJzIHVz
ZWQgdG8gaGF2ZQorICAgICAqIG1heGltdW0gb2YgMiBkaWdpdHM/IElmIHNv
LCB0aGVyZSBzaG91bGQgYmUgYSB3aGlsZSBsb29wLCBJIHRoaW5rLgorICAg
ICAqLwogICAgIGlmIChjb25kaXRpb24tPnJlZyA+IDkpCiAgICAgICAgIGNv
bW1hbmQrKzsKIAorICAgIC8qIHNraXAgd2hpdGVzcGFjZSAqLwogICAgIGlm
ICgqY29tbWFuZCA9PSAnICcpCiAgICAgICAgIG5hKGNvbW1hbmQpOwogCkBA
IC02NDYsMTEgKzY1NiwxMyBAQA0KICAgICAgICAgICAgIHJldHVybiBOVUxM
OwogICAgIH0KIAorICAgIC8qIGlmIHRoZXJlJ3MgYW4gJz0nLCBza2lwIGl0
ICovCiAgICAgaWYgKCooY29tbWFuZCArIDEpID09ICc9JykKICAgICAgICAg
Y29tbWFuZCArPSAyOwogICAgIGVsc2UKLSAgICAgICAgY29tbWFuZCArKzsK
KyAgICAgICAgY29tbWFuZCsrOwogCisgICAgLyogc2tpcCB3aGl0ZXNwYWNl
ICovCiAgICAgaWYgKCpjb21tYW5kID09ICcgJykKICAgICAgICAgbmEoY29t
bWFuZCk7CiAKQEAgLTc5Niw4ICs4MDgsNyBAQA0KIAogICAgICAgICAvKiBB
Ym9ydCBpZiB0aGUgbGluZSBudW1iZXIgcHJvdmlkZWQgZG9lc24ndCBleGlz
dCAqLwogICAgICAgICBpZiAoIWxpbmUtPm5leHQpIHsKLSAgICAgICAgICAg
IFBJT19lcHJpbnRmKGludGVycCwKLSAgICAgICAgICAgICAgICAgICAgICAg
ICJDYW4ndCBzZXQgYSBicmVha3BvaW50IGF0IGxpbmUgbnVtYmVyICVsaVxu
Iixsbik7CisgICAgICAgICAgICBQSU9fZXByaW50ZihpbnRlcnAsICJDYW4n
dCBzZXQgYSBicmVha3BvaW50IGF0IGxpbmUgbnVtYmVyICVsaVxuIixsbik7
CiAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgIH0KICAgICB9CkBAIC04
MDgsOCArODE5LDcgQEANCiAgICAgICAgIHdoaWxlIChsaW5lLT5vcGNvZGUg
IT0gcGRiLT5jdXJfb3Bjb2RlKSB7CiAgICAgICAgICAgICBsaW5lID0gbGlu
ZS0+bmV4dDsKICAgICAgICAgICAgIGlmICghbGluZSkgewotICAgICAgICAg
ICAgICAgIFBJT19lcHJpbnRmKGludGVycCwKLSAgICAgICAgICAgICAgICAg
ICAiTm8gY3VycmVudCBsaW5lIGZvdW5kIGFuZCBubyBsaW5lIG51bWJlciBz
cGVjaWZpZWRcbiIpOworICAgICAgICAgICAgICAgIFBJT19lcHJpbnRmKGlu
dGVycCwgIk5vIGN1cnJlbnQgbGluZSBmb3VuZCBhbmQgbm8gbGluZSBudW1i
ZXIgc3BlY2lmaWVkXG4iKTsKICAgICAgICAgICAgICAgICByZXR1cm47CiAg
ICAgICAgICAgICB9CiAgICAgICAgIH0KQEAgLTk0OCwxMCArOTU4LDEzIEBA
DQogICAgIFBEQl9icmVha3BvaW50X3QgKmJyZWFrcG9pbnQ7CiAgICAgbG9u
ZyAgICAgICAgICAgICAgbjsKIAorICAgIC8qIGNoZWNrIHdoZXRoZXIgdGhl
IGNvbW1hbmQgd2FzIGEgZGlnaXQgKi8KKyAgICAvKiBYWFggT25seSBjaGVj
ayBmb3IgZmlyc3QgY2hhcmFjdGVyPyAqLwogICAgIGlmIChpc2RpZ2l0KChp
bnQpICpjb21tYW5kKSkgewogICAgICAgICBuICAgICAgICAgID0gYXRvbChj
b21tYW5kKTsKICAgICAgICAgYnJlYWtwb2ludCA9IGludGVycC0+cGRiLT5i
cmVha3BvaW50OwogCisgICAgICAgIC8qIGl0ZXJhdGUgb3ZlciB0aGUgYnJl
YWtwb2ludHMgdG8gZmluZCBicmVha3BvaW50IG5vLiBuLiAqLwogICAgICAg
ICB3aGlsZSAoYnJlYWtwb2ludCAmJiBicmVha3BvaW50LT5pZCAhPSBuKQog
ICAgICAgICAgICAgYnJlYWtwb2ludCA9IGJyZWFrcG9pbnQtPm5leHQ7CiAK
QEAgLTk4OSw2ICsxMDAyLDcgQEANCiB7CiAgICAgUERCX2JyZWFrcG9pbnRf
dCAqYnJlYWtwb2ludCA9IFBEQl9maW5kX2JyZWFrcG9pbnQoaW50ZXJwLCBj
b21tYW5kKTsKIAorICAgIC8qIGlmIHRoZSBicmVha3BvaW50IGV4aXN0cywg
ZGlzYWJsZSBpdC4gKi8KICAgICBpZiAoYnJlYWtwb2ludCkKICAgICAgICAg
YnJlYWtwb2ludC0+c2tpcCA9IC0xOwogCkBAIC0xMDEyLDEwICsxMDI2LDEx
IEBADQogewogICAgIFBEQl9icmVha3BvaW50X3QgKmJyZWFrcG9pbnQgPSBQ
REJfZmluZF9icmVha3BvaW50KGludGVycCwgY29tbWFuZCk7CiAKLSAgICBp
ZiAoYnJlYWtwb2ludCAmJiBicmVha3BvaW50LT5za2lwID09IC0xKQorICAg
IC8qIGlmIHRoZSBicmVha3BvaW50IGV4aXN0cywgYW5kIGl0IHdhcyBkaXNh
YmxlZCwgZW5hYmxlIGl0LiAqLworICAgIGlmIChicmVha3BvaW50ICYmIGJy
ZWFrcG9pbnQtPnNraXAgPT0gLTEpIHsKICAgICAgICAgYnJlYWtwb2ludC0+
c2tpcCA9IDA7CisgICAgfQogCi0gICAgcmV0dXJuOwogfQogCiAvKgpAQCAt
MTk0MSwxMSArMTk1NiwxNyBAQA0KIHsKICAgICBjaGFyIGggPSAwOwogCisg
ICAgLyogYXMgbG9uZyBhcyBjIGlzIG5vdCBOVUxMLCB3ZSdyZSBub3QgbG9v
a2luZyBhdCBhIGNvbW1lbnQgKCMuLi4pIG9yIGEgJ1xuJy4uLiAqLwogICAg
IHdoaWxlICgqYyAmJiAqYyAhPSAnIycgJiYgKmMgIT0gJ1xuJykgewotICAg
ICAgICBpZiAoaXNhbG51bSgoaW50KSAqYykgfHwgKmMgPT0gJyInKQorICAg
ICAgICAvKiAuLi4gYW5kIGMgaXMgYWxwaGFudW1lcmljIG9yIGEgcXVvdGVk
IHN0cmluZyAuLi4gKi8KKyAgICAgICAgaWYgKGlzYWxudW0oKGludCkgKmMp
IHx8ICpjID09ICciJykgeworICAgICAgICAgICAgLyogLi4uIHRoZW4gdGhl
IGxpbmUgY29udGFpbnMgYW4gaW5zdHJ1Y3Rpb24uICovCiAgICAgICAgICAg
ICBoID0gMTsKLSAgICAgICAgZWxzZSBpZiAoKmMgPT0gJzonKQorICAgICAg
ICB9CisgICAgICAgIGVsc2UgaWYgKCpjID09ICc6JykgeworICAgICAgICAg
ICAgLyogdGhpcyBpcyBhIGxhYmVsLiBYWFggcmlnaHQ/ICovCiAgICAgICAg
ICAgICBoID0gMDsKKyAgICAgICAgfQogICAgICAgICBjKys7CiAgICAgfQog
Cg==

------------=_1180009595-21644-2--

