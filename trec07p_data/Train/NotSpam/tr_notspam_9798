From perl6-all-return-81280-ktwarwic=speedy.uwaterloo.ca@perl.org  Sat May 12 16:45:27 2007
Return-Path: <perl6-all-return-81280-ktwarwic=speedy.uwaterloo.ca@perl.org>
Received: from lists.develooper.com (x6.develooper.com [63.251.223.186])
	by flax9.uwaterloo.ca (8.12.8/8.12.5) with SMTP id l4CKjPqD019930
	for <ktwarwic@flax9.uwaterloo.ca>; Sat, 12 May 2007 16:45:26 -0400
Received: (qmail 10373 invoked by uid 514); 12 May 2007 20:45:22 -0000
Mailing-List: contact perl6-all-help@perl.org; run by ezmlm
Precedence: bulk
List-Post: <mailto:perl6-all@perl.org>
List-Help: <mailto:perl6-all-help@perl.org>
List-Unsubscribe: <mailto:perl6-all-unsubscribe@perl.org>
List-Subscribe: <mailto:perl6-all-subscribe@perl.org>
List-Id: <perl6-all.perl.org>
Delivered-To: mailing list perl6-all@perl.org
Received: (qmail 10368 invoked from network); 12 May 2007 20:45:22 -0000
Delivered-To: perl6-all-poster@perl.org
X-Spam-Status: No, hits=-0.6 required=8.0
	tests=BAYES_00,DKIM_POLICY_SIGNSOME,DK_POLICY_SIGNSOME,KARMA_CONNECT_NEGATIVE,SPF_PASS
X-Spam-Check-By: la.mx.develooper.com
Received-SPF: pass (x1.develooper.com: local policy)
X-Mailing-List: contact perl6-internals-help@perl.org; run by ezmlm
X-Mailing-List-Name: perl6-internals
List-Id: <perl6-internals.perl.org>
Delivered-To: mailing list perl6-internals@perl.org
Delivered-To: perl6-internals@perl.org
Received-SPF: pass (x1.develooper.com: local policy)
Subject: [perl #41386] MANIFEST must die. 
From: "Allison Randal via RT" <parrotbug-followup@parrotcode.org>
Reply-To: parrotbug-followup@parrotcode.org
In-Reply-To: <rt-3.6.HEAD-10538-1171847620-1194.41386-15-0@perl.org>
References: <RT-Ticket-41386@perl.org> <20070131205042.49136.qmail@spout.spiders.net> <rt-3.6.HEAD-1774-1170276798-18.41386-72-0@perl.org> <45C10C0A.7060706@perl.org> <rt-3.6.HEAD-1814-1170279474-1293.41386-15-0@perl.org> <rt-3.6.HEAD-24617-1171725245-1282.41386-15-0@perl.org> <FCC4B1ED-6678-49DA-9E36-730EBA3561E9@coleda.com> <rt-3.6.HEAD-10538-1171847620-1194.41386-15-0@perl.org>
Message-ID: <rt-3.6.HEAD-12281-1179001023-1343.41386-15-0@perl.org>
X-RT-Loop-Prevention: perl
RT-Ticket: perl #41386
Managed-by: RT 3.6.HEAD (http://www.bestpractical.com/rt/)
RT-Originator: al@shadowed.net
Cc: perl6-internals@perl.org
To: "OtherRecipients of perl Ticket #41386": ;
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: 8bit
X-RT-Original-Encoding: utf-8
Date: Sat, 12 May 2007 13:17:04 -0700
X-Old-Spam-Check-By: la.mx.develooper.com
X-Old-Spam-Status: No, hits=-2.6 required=8.0
	tests=BAYES_00,DKIM_POLICY_SIGNSOME,DK_POLICY_SIGNSOME,SPF_PASS

On Sun Feb 18 17:13:40 2007, coke wrote:
> > If I'm understanding correctly:
> >
> > - MANIFEST indicates which files are to be in the distribution.
> >
> > - svn:ignore indicates which files in a build tree are to be
> >   ignored as part of "svn status" and other svn commands.
> >
> > - MANIFEST.SKIP indicates the files in the repository (build tree?)
> >   that are not part of the distribution -- i.e., not part of MANIFEST.

Aye.

MANIFEST.SKIP is just a safeguard to prevent extraneous files from
leaking into the distribution tarball. It may contain both files
committed to the repository but not included in the distribution and
files generated by the build process but not included in the distribution.

So, it doesn't entirely correspond to the svn:ignore property.

> For the moment, disabling configure's manicheck by default would be a  
> good start. This isn't something we need every developer wasting  
> their time on given how we're using it right now; more of something  
> that should be handled by the release manager.
> 
> (How many times has the build been broken by a missing MANIFEST update?)

I'd agree, but then we're likely to have developers bitten by files left
out of the distribution because they forgot to include them in the
MANIFEST. Requiring developers to explicitly note which checked in files
are excluded from the MANIFEST is good housekeeping. This falls in a
category of "developer tests" that don't need to be run by the users,
but do need to be run by the developers.

> > I would like to get rid of MANIFEST.SKIP, however,

It serves a useful purpose, as a "double accounting" check.

> > and I think
> > we may not be using our tool (svn) to its full advantage.
> > Brainstorming a bit ...  isn't it possible for us to define
> > our own svn properties?  (I'm not all that familiar with this
> > part of svn.) If yes, then can we just have a
> > "distribution:[yes|no]" svn property that indicates files to be
> > part of the distribution?
> 
> "coming soon" to svn, not available yet.

Maybe someday. For now we're stuck with a manual MANIFEST.


Allison

